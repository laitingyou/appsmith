"use strict";(self.webpackChunkappsmith=self.webpackChunkappsmith||[]).push([[259],{43272:function(e,n,t){var r,i=t(17186),s=t(86538);n.Z=s.ZP.div(r||(r=(0,i.Z)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])))},95616:function(e,n,t){t.r(n),t.d(n,{Workspace:function(){return Le},default:function(){return ze}});var r=t(72791),i=t(79271),s=t(24011),a=t(43272),o=t(80184);var l,c,u,d,p,m,x,h,f=function(){return(0,o.jsx)(a.Z,{children:(0,o.jsx)("p",{children:"This page is under construction"})})},g=t(17186),v=t(91523),Z=t(93101),j=t(52628),y=t(59386),b=t(47446),w=t(28238),P=t(86538),k=t(18489),C=t(50678),N=t(86437),E=t(91381),O=t(88967),G=t(23234),I=t(6028),S=t(92145),U=t(81259),F=t(41732),M=t(17001),R=t(19068),A=t(763),W=t(40389),H=t(37305),L=t(59205),z=t(74192),D=t(18879),T=t(24805),_=P.ZP.div(l||(l=(0,g.Z)(["\n  width: ",";\n  margin: ",";\n"])),(function(e){return e.isPortrait?"336px":"383px"}),(function(e){return e.isMobile?e.isPortrait?"auto":"120px":null})),J=P.ZP.div(c||(c=(0,g.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n"]))),$=P.ZP.div(u||(u=(0,g.Z)(["\n  width: 100%;\n  display: flex;\n  margin-bottom: 15px;\n"]))),V=(0,P.ZP)(b.ZP)(d||(d=(0,g.Z)(["\n  color: ",";\n  display: inline-block;\n  margin-top: 25px;\n  margin-bottom: 10px;\n"])),(function(e){return e.theme.colors.settingHeading})),Y=P.ZP.div(p||(p=(0,g.Z)(["\n  height: 38px;\n  width: 320px;\n  border-radius: 0;\n"]))),X=P.ZP.div(m||(m=(0,g.Z)(["\n  height: 190px;\n  width: 333px;\n  border-radius: 0;\n"]))),Q=P.ZP.div(x||(x=(0,g.Z)(["\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  display: flex;\n"]))),B=P.ZP.div(h||(h=(0,g.Z)(["\n  width: 100%;\n  margin: 0;\n  padding: 0;\n"])));function q(){var e=(0,i.UO)().workspaceId,n=(0,j.I0)(),t=(0,j.v9)(Z.rW).filter((function(n){return n.id===e}))[0];function r(e){n((0,U.OX)(e))}var s=1e3,a=(0,A.debounce)((function(n){r({id:e,name:n})}),s),l=(0,A.debounce)((function(n){r({id:e,website:n})}),s),c=(0,A.debounce)((function(n){r({id:e,email:n})}),s),u=(0,j.v9)(Z.FF).isFetchingWorkspace,d=(0,j.v9)(Z.md),p=(0,j.v9)(D.ZO),m=(0,T.useMediaQuery)({maxWidth:767}),x=(0,T.useMediaQuery)({query:"(orientation: portrait)"});return(0,o.jsxs)(_,{isMobile:m,isPortrait:x,children:[(0,o.jsx)(V,{type:b.yG.H1,children:(0,o.jsx)(Q,{children:(0,o.jsx)(B,{children:"General Settings"})})}),(0,o.jsx)($,{children:(0,o.jsx)(Q,{children:(0,o.jsxs)(B,{children:[(0,o.jsx)(J,{children:(0,o.jsx)(b.ZP,{type:b.yG.P1,children:"Organization Name"})}),p&&(0,o.jsx)(Y,{className:H.Ms1}),!p&&(0,o.jsx)(W.ZP,{cypressSelector:"t--workspace-name-input",defaultValue:t&&t.name,fill:!0,onChange:a,placeholder:"Organization Name",validator:W.js})]})})}),(0,o.jsx)($,{children:(0,o.jsx)(Q,{className:"t--workspace-settings-filepicker",children:(0,o.jsxs)(B,{children:[(0,o.jsx)(J,{children:(0,o.jsx)(b.ZP,{type:b.yG.P1,children:"Upload Logo"})}),u&&(0,o.jsx)(X,{className:H.Ms1}),!u&&(0,o.jsx)(z.Z,{fileType:L.Tv.IMAGE,fileUploader:function(r,i,s){n((0,U.rf)({id:e,logo:r,progress:function(e){var n=Math.round(e.loaded/e.total*100);100===n&&s(t.logoUrl||""),i(n)}}))},logoUploadError:d.message,onFileRemoved:function(){n((0,U.BZ)(e))},url:t&&t.logoUrl})]})})}),(0,o.jsx)($,{children:(0,o.jsx)(Q,{children:(0,o.jsxs)(B,{children:[(0,o.jsx)(J,{children:(0,o.jsx)(b.ZP,{type:b.yG.P1,children:"Website"})}),p&&(0,o.jsx)(Y,{className:H.Ms1}),!p&&(0,o.jsx)(W.ZP,{cypressSelector:"t--workspace-website-input",defaultValue:t&&t.website||"",fill:!0,onChange:l,placeholder:"Your website"})]})})}),(0,o.jsx)($,{children:(0,o.jsx)(Q,{children:(0,o.jsxs)(B,{children:[(0,o.jsx)(J,{children:(0,o.jsx)(b.ZP,{type:b.yG.P1,children:"Email"})}),p&&(0,o.jsx)(Y,{className:H.Ms1}),!p&&(0,o.jsx)(W.ZP,{cypressSelector:"t--workspace-email-input",defaultValue:t&&t.email||"",fill:!0,onChange:c,placeholder:"Email",validator:W.Le})]})})})]})}var K,ee,ne,te,re=t(81209),ie=t(46898),se=t(7981),ae=t(60309),oe=(0,P.ZP)(se.Z)(K||(K=(0,g.Z)(["\n  && ."," {\n    padding-top: 0px;\n  }\n"])),H.TmF),le=P.ZP.div(ee||(ee=(0,g.Z)(["\n  text-align: left;\n"]))),ce=(0,P.ZP)(F.ZP)(ne||(ne=(0,g.Z)(["\n  height: 30px;\n  width: 81px;\n  pointer-events: ",";\n"])),(function(e){return e.disabled?"none":"auto"})),ue=P.ZP.div(te||(te=(0,g.Z)(["\n  display: flex;\n  justify-content: end;\n  margin-top: 20px;\n\n  & > a {\n    margin: 0 4px;\n  }\n"])));var de,pe,me,xe,he,fe,ge,ve=function(e){var n=e.isDeletingUser,t=e.isOpen,r=e.name,i=e.onClose,s=e.onConfirm,a=e.username;return(0,o.jsx)(oe,{canOutsideClickClose:!0,className:"t--member-delete-confirmation-modal",headerIcon:{name:"delete",fillColor:ae.w.DANGER_SOLID,hoverColor:ae.w.DANGER_SOLID_HOVER},isOpen:t,maxHeight:"540px",setModalClose:i,title:(0,ie.Y5Q)(),children:(0,o.jsxs)(le,{children:[(0,o.jsx)(b.ZP,{textAlign:"center",type:b.yG.P1,children:(0,ie.Vrc)(r||a)}),(0,o.jsxs)(ue,{children:[(0,o.jsx)(ce,{category:F.WD.tertiary,className:".button-item",onClick:i,size:F.$u.large,text:"CANCEL",variant:re.$e.danger}),(0,o.jsx)(ce,{className:".button-item",cypressSelector:"t--workspace-leave-button",isLoading:n,onClick:s,size:F.$u.large,text:"REMOVE",variant:re.$e.danger})]})]})})},Ze=t(72310),je=t(95105),ye=t(34918),be=P.ZP.div(de||(de=(0,g.Z)(["\n  height: 120px;\n  width: 100%;\n"]))),we=P.ZP.div(pe||(pe=(0,g.Z)(["\n  ","\n  table {\n    tbody {\n      tr {\n        td:first-child {\n          word-break: break-word;\n        }\n      }\n    }\n  }\n"])),(function(e){return e.isMobile?"width: 100%; margin: auto":null})),Pe=P.ZP.div(me||(me=(0,g.Z)(["\n  margin-top: 10px;\n  a {\n    padding: 0 8px;\n  }\n  span:last-child {\n    font-size: 14px;\n  }\n  svg {\n    path {\n      stroke: #ffffff;\n      fill: #ffffff;\n    }\n  }\n  button {\n    padding: 6px 8px;\n  }\n"]))),ke=P.ZP.div(xe||(xe=(0,g.Z)(["\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  margin: auto;\n"]))),Ce=(0,P.ZP)(Ze.Zb)(he||(he=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  box-shadow: none;\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 0px;\n  padding: ","\n  width: 343px;\n  height: 201px;\n  margin: auto;\n  margin-bottom: ","px;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n\n  .avatar {\n    min-height: 71px;\n\n    ."," {\n      margin: auto;\n    }\n  }\n\n  ."," {\n    color: ",";\n    margin-top: ","px;\n    &.user-name {\n      margin-top: ","px;\n    }\n    &.user-email {\n      color: ",";\n    }\n    &.user-role {\n      margin-bottom: ","px;\n    }\n  }\n\n  .approve-btn {\n    padding: ",";\n  }\n  .delete-btn {\n    position: absolute;\n  }\n\n  .t--user-status {\n    background: transparent;\n    border: 0px;\n    width: fit-content;\n    margin: auto;\n    ."," {\n      width: fit-content;\n      margin-top: 0px;\n      color: ",";\n    }\n  }\n"])),ae.w.GREY_1,ae.w.GREY_3,(function(e){return"".concat(e.theme.spaces[15],"px ").concat(4*e.theme.spaces[7],"px;")}),(function(e){return e.theme.spaces[7]-1}),re.PZ.TEXT,re.PZ.TEXT,ae.w.GREY_10,(function(e){return e.theme.spaces[1]}),(function(e){return e.theme.spaces[4]}),ae.w.GREY_7,(function(e){return e.theme.spaces[3]}),(function(e){return"".concat(e.theme.spaces[1],"px ").concat(e.theme.spaces[3],"px")}),re.PZ.TEXT,ae.w.GREY_10),Ne=(0,P.ZP)(I.Z)(fe||(fe=(0,g.Z)(["\n  tbody {\n    tr:hover {\n      .t--deleteUser {\n        path {\n          fill: #ff6786;\n        }\n      }\n    }\n  }\n"]))),Ee=(0,P.ZP)(S.ZP)(ge||(ge=(0,g.Z)(["\n  position: absolute;\n  top: ","px;\n  right: ","px;\n"])),(function(e){return e.theme.spaces[9]}),(function(e){return e.theme.spaces[7]}));function Oe(e){var n,t=e.match.params.workspaceId,i=(0,j.I0)();(0,r.useEffect)((function(){i((0,U.Ch)(t)),i((0,U.dZ)(t)),i((0,U.oP)(t))}),[t]);var s=(0,r.useState)(!1),a=(0,C.Z)(s,2),l=a[0],c=a[1],u=(0,r.useState)(!1),d=(0,C.Z)(u,2),p=d[0],m=d[1],x=function(){return c(!1)},h=(0,r.useState)(null),f=(0,C.Z)(h,2),g=f[0],v=f[1],y=function(e,n,t){v({name:e,username:n,workspaceId:t}),c(!0)},w=(0,j.v9)(Z.FF),P=w.deletingUserInfo,I=w.isFetchingAllRoles,A=w.isFetchingAllUsers,W=w.roleChangingUserInfo,L=(0,j.v9)(Z.xJ),z=(0,j.v9)(Z.AW),D=(0,j.v9)(G.ts),_=(0,j.v9)(Z.rW).filter((function(e){return e.id===t}))[0];(0,r.useEffect)((function(){if(g&&l){var e=z.find((function(e){return e.username===g.username}));e?m(e.isDeleting):(v(null),x(),m(!1))}}),[z]);var J=z.map((function(e){return(0,k.Z)((0,k.Z)({},e),{},{isCurrentUser:e.username===(null===D||void 0===D?void 0:D.username)})})),$=[{Header:"Name",accessor:"name"},{Header:"Email",accessor:"username"},{Header:"Role",accessor:"roleName",Cell:function(e){var n=(0,j.v9)(Z.xJ),r=n?Object.keys(n).map((function(e){return{name:e,desc:n[e]}})):[],s=r.findIndex((function(n){return n.name===e.cell.value}));return e.cell.row.values.username===(null===D||void 0===D?void 0:D.username)?e.cell.value:(0,o.jsx)(M.Z,{isLoading:W&&W.username===e.cell.row.values.username,onSelect:function(n){i((0,U.Jx)(t,n.name,e.cell.row.values.username))},options:r,selectedIndex:s,selectedTextWidth:"90px"})}},{Header:"Status",accessor:"status"},{Header:"Actions",accessor:"delete",disableSortBy:!0,Cell:function(e){return(0,o.jsx)(S.ZP,{className:"t--deleteUser",cypressSelector:"t--deleteUser",fillColor:"#FF6786",hoverFillColor:"#FF6786",isLoading:P&&P.username===e.cell.row.values.username,name:"trash-outline",onClick:function(){y(e.cell.row.values.username,e.cell.row.values.username,t)},size:S.Jh.LARGE})}}],Y=null!==(n=null===_||void 0===_?void 0:_.name)&&void 0!==n?n:"",X=(0,T.useMediaQuery)({maxWidth:767}),Q=L?Object.keys(L).map((function(e){return{id:e,value:e,label:L[e]}})):[];return(0,o.jsxs)(we,{isMobile:X,children:[(0,o.jsxs)(N.Z,{children:[(0,o.jsx)(V,{type:b.yG.H1,children:"Manage Users"}),(0,o.jsx)(O.Z,{Form:E.Z,canOutsideClickClose:!0,title:"Invite Users to ".concat(Y),trigger:(0,o.jsx)(Pe,{children:(0,o.jsx)(F.ZP,{cypressSelector:"t--invite-users",icon:"plus",size:F.$u.medium,tag:"button",text:"Invite Users",variant:re.$e.info})}),workspaceId:t})]}),A&&I?(0,o.jsx)(be,{className:H.Ms1}):(0,o.jsxs)(o.Fragment,{children:[!X&&(0,o.jsx)(Ne,{columns:$,data:J}),X&&(0,o.jsx)(ke,{children:z.map((function(e,n){var r=Q.find((function(n){return n.value===e.roleName}))||Q[0],s=e.username===(null===D||void 0===D?void 0:D.username);return(0,o.jsxs)(Ce,{children:[(0,o.jsx)(je.Z,{className:"avatar",size:71,source:"/api/".concat(ye.WF,"/").concat(e.username),userName:e.name||e.username}),(0,o.jsx)(b.ZP,{className:"user-name",type:b.yG.P1,children:e.name||e.username}),(0,o.jsx)(b.ZP,{className:"user-email",type:b.yG.P1,children:e.username}),s&&(0,o.jsx)(b.ZP,{className:"user-role",type:b.yG.P1,children:e.roleName}),!s&&(0,o.jsx)(R.ZP,{boundary:"viewport",className:"t--user-status",defaultIcon:"downArrow",height:"31px",onSelect:function(n){var r,s;r=n,s=e.username,i((0,U.Jx)(t,r,s))},options:Q,selected:r,width:"140px"}),(0,o.jsx)(F.ZP,{category:F.WD.primary,className:"approve-btn",size:F.$u.xxs,text:"Approve"}),(0,o.jsx)(Ee,{className:"t--deleteUser",cypressSelector:"t--deleteUser",fillColor:ae.w.DANGER_SOLID,hoverFillColor:ae.w.DANGER_SOLID_HOVER,name:"trash-outline",onClick:function(){y(e.username,e.username,t)},size:S.Jh.LARGE})]},n)}))}),(0,o.jsx)(ve,{isDeletingUser:p,isOpen:l,name:g&&g.name,onClose:x,onConfirm:function(){if(!g)return null;i((0,U.e9)(g.workspaceId,g.username))},username:g&&g.username})]})]})}var Ge,Ie,Se=t(11854),Ue=t(28663),Fe=t(13581),Me=Se.gy(i.AW),Re=(0,P.ZP)(v.rU)(Ge||(Ge=(0,g.Z)(["\n  margin-top: 30px;\n  margin-bottom: 35px;\n  display: inline-block;\n  width: auto;\n  &:hover {\n    text-decoration: none;\n  }\n  svg {\n    cursor: pointer;\n  }\n  ","\n"])),Fe.OO),Ae=P.ZP.div(Ie||(Ie=(0,g.Z)(["\n  width: ",";\n  margin: 0 auto;\n"])),(function(e){return e.isMobile?"345px":"916px"}));function We(){var e=(0,i.UO)().workspaceId,n=(0,j.v9)(Z.rW).filter((function(n){return n.id===e}))[0],t=(0,i.$B)().path,s=(0,i.TH)(),a=(0,j.I0)();(0,r.useEffect)((function(){n||a((0,Ue.Rl)())}),[a,n]);var l=(0,o.jsxs)("div",{children:[(0,o.jsx)(Me,{component:q,location:s,path:"".concat(t,"/general")}),(0,o.jsx)(Me,{component:Oe,location:s,path:"".concat(t,"/members")})]}),c=[{key:"general",title:"General",panelComponent:l,icon:"gear",iconSize:S.Jh.XL},{key:"members",title:"Members",panelComponent:l,icon:"user-2",iconSize:S.Jh.XL}],u=-1!==s.pathname.indexOf("members"),d=(0,T.useMediaQuery)({maxWidth:767});return(0,o.jsxs)(Ae,{isMobile:d,children:[(0,o.jsxs)(Re,{to:"/applications",children:[(0,o.jsx)(Ze.JO,{color:"#9F9F9F",icon:"chevron-left"}),(0,o.jsx)(b.ZP,{className:"t--workspace-header",type:b.yG.H1,children:n&&n.name})]}),(0,o.jsx)(y.id,{onSelect:function(e){var n=s.pathname.indexOf("settings")+"settings".length,t="";t="/"===s.pathname[n]?"".concat(s.pathname.slice(0,n),"/").concat(c[e].key):"".concat(s.pathname,"/").concat(c[e].key),w.Z.push(t)},selectedIndex:u?1:0,tabs:c})]})}var He=Se.gy(i.AW);function Le(){var e=(0,i.$B)().path,n=(0,i.TH)();return(0,o.jsx)(s.Z,{displayName:"Organization Settings",children:(0,o.jsxs)(i.rs,{location:n,children:[(0,o.jsx)(He,{component:We,path:"".concat(e,"/:workspaceId/settings")}),(0,o.jsx)(He,{component:f})]})})}var ze=Le}}]);
//# sourceMappingURL=workspace.f38df232.chunk.js.map