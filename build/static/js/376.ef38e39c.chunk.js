"use strict";(self.webpackChunkappsmith=self.webpackChunkappsmith||[]).push([[376],{43272:function(e,n,t){var i,r=t(17186),o=t(86538);n.Z=o.ZP.div(i||(i=(0,r.Z)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])))},91142:function(e,n,t){var i,r,o,a=t(27853),s=t(84531),l=t(81020),c=t(18334),u=t(17186),d=t(72791),p=t(72310),f=t(86538),h=t(92145),g=t(80184),m=f.ZP.div(i||(i=(0,u.Z)(["\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 24px;\n  letter-spacing: -0.17px;\n  color: #4e5d78;\n  display: flex;\n  .cs-icon {\n    margin-left: ","px;\n  }\n"])),(function(e){return e.theme.spaces[2]})),v=f.ZP.div(r||(r=(0,u.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 240px;\n  cursor: pointer;\n  margin-bottom: 5;\n"]))),x=f.ZP.div(o||(o=(0,u.Z)(["\n  height: 2px;\n  background-color: #d0d7dd;\n  margin-top: 24px;\n  margin-bottom: 24px;\n"]))),C=function(e){(0,l.Z)(t,e);var n=(0,c.Z)(t);function t(e){var i;return(0,a.Z)(this,t),(i=n.call(this,e)).state={isOpen:e.defaultIsOpen||!1},i}return(0,s.Z)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.children,i=n.headerIcon,r=n.title,o=this.state.isOpen;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x,{className:"t--collapse-top-border"}),(0,g.jsxs)(v,{className:"t--collapse-section-container","data-cy":"section-".concat(r),"data-replay-id":"section-".concat(r),onClick:function(){return e.setState({isOpen:!e.state.isOpen})},children:[(0,g.jsxs)(m,{children:[r,i&&(0,g.jsx)(h.ZP,{fillColor:i.color,name:i.name,size:h.Jh.MEDIUM})]}),(0,g.jsx)(p.JO,{icon:o?"chevron-up":"chevron-down",iconSize:16,style:{color:"#2E3D49"}})]}),(0,g.jsx)(p.UO,{isOpen:this.state.isOpen,keepChildrenMounted:!0,children:t})]})}}]),t}(d.Component);n.Z=C},27966:function(e,n,t){var i,r,o,a=t(17186),s=(t(72791),t(52628)),l=t(79271),c=t(763),u=t(23861),d=t(60309),p=t(18202),f=t(86538),h=t(48016),g=t(99983),m=t(80184),v=f.ZP.div(i||(i=(0,a.Z)(["\n  color: ",";\n  font-size: 17px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n"])),d.w.OXFORD_BLUE),x=f.ZP.div(r||(r=(0,a.Z)(["\n  flex-direction: row;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),C=f.ZP.div(o||(o=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  border-top: 1px solid #d0d7dd;\n  border-bottom: 1px solid #d0d7dd;\n  padding-top: 24px;\n  padding-bottom: 24px;\n  margin-top: 18px;\n"])));n.Z=function(){var e,n=(0,l.UO)(),t=(0,s.v9)((function(e){return(0,u.qO)(e,n.datasourceId)})),i=(0,s.v9)((function(e){return e.entities.plugins.formConfigs})),r=(0,s.v9)((function(e){var n;return(0,u.s3)(e,null!==(n=null===t||void 0===t?void 0:t.pluginId)&&void 0!==n?n:"")})),o=i[null!==(e=null===t||void 0===t?void 0:t.pluginId)&&void 0!==e?e:""];return(0,m.jsxs)(C,{children:[(0,m.jsxs)(x,{children:[(0,m.jsxs)(v,{children:[(0,m.jsx)(p.b.SAVE_SUCCESS,{color:d.w.GREEN,height:30,width:30}),(0,m.jsx)("div",{style:{marginLeft:"12px"},children:"Datasource Saved"})]}),(0,m.jsx)(g.Z,{datasource:t,eventFrom:"datasource-pane",pluginType:null===r||void 0===r?void 0:r.type})]}),(0,m.jsx)("div",{style:{marginTop:"30px"},children:(0,c.isNil)(o)||(0,c.isNil)(t)?void 0:(0,h.B)(o[0],t)})]})}},48016:function(e,n,t){t.d(n,{B:function(){return A}});var i,r,o,a,s=t(17186),l=t(72791),c=t(763),u=t(60309),d=t(86538),p=t(23074),f=t(62895),h=t.n(f),g=t(80184),m=d.ZP.div(i||(i=(0,s.Z)(["\n  color: ",";\n  font-size: 14px;\n  display: inline-block;\n"])),u.w.DOVE_GRAY),v=d.ZP.div(r||(r=(0,s.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  display: inline-block;\n  margin-left: 5px;\n"]))),x=d.ZP.div(o||(o=(0,s.Z)(["\n  display: inline-block;\n  margin-left: 10px;\n"]))),C=d.ZP.div(a||(a=(0,s.Z)(["\n  &:not(first-child) {\n    margin-top: 9px;\n  }\n"]))),A=function e(n,t){return(0,g.jsx)(l.Fragment,{children:(0,c.map)(n.children,(function(n){if((0,p.xj)(t,n.hidden))return null;if("children"in n)return e(n,t);try{var i=n.configProperty,r=n.controlType,o=n.label,a=t.id+"_"+o,s=(0,c.get)(t,i);if("KEYVALUE_ARRAY"===r){var l=i.split("[*]."),u=(0,c.get)(t,l[0],null);if(u&&!(0,c.isEmpty)(u)){var d=u[0];s=d[l[1]]}else s=""}if("FIXED_KEY_INPUT"===r)return(0,g.jsxs)(C,{children:[(0,g.jsxs)(m,{children:[i.key,": "]})," ",(0,g.jsx)(v,{children:i.value})]},a);if("KEY_VAL_INPUT"===r)return(0,g.jsxs)(C,{children:[(0,g.jsx)(m,{children:o}),s&&s.map((function(e){return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{style:{display:"inline-block"},children:[(0,g.jsx)(m,{children:"Key: "}),(0,g.jsx)(v,{children:e.key})]}),(0,g.jsxs)(x,{children:[(0,g.jsx)(m,{children:"Value: "}),(0,g.jsx)(v,{children:e.value})]})]},e.key)}))]},a);if("DROP_DOWN"===r&&Array.isArray(n.options)){var f=n.options.find((function(e){return e.value===s}));f&&f.label&&(s=f.label)}return(0,g.jsxs)(C,{children:[(0,g.jsxs)(m,{children:[o,": "]})," ",(0,g.jsx)(v,{children:s})]},a)}catch(A){h().error(A)}}))},t.id)}},72462:function(e,n,t){var i,r=t(18489),o=t(50678),a=t(17186),s=t(86538),l=t(72791),c=t(79271),u=t(9317),d=t(23861),p=t(52628),f=t(72014),h=t(40200),g=t(72310),m=t(80184),v=s.ZP.div(i||(i=(0,a.Z)(["\n  margin-left: 10px;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 24px;\n  display: flex;\n"])));n.Z=function(e){var n=(0,c.UO)(),t=(0,p.v9)((function(e){return(0,d.qO)(e,n.datasourceId)})),i=(0,p.v9)(d.ft),a=(0,l.useState)(!1),s=(0,o.Z)(a,2),x=s[0],C=s[1],A=(0,p.I0)(),y=(0,p.v9)((function(e){var n=t?t.id:"";return{isSaving:e.ui.datasourceName.isSaving[n],error:e.ui.datasourceName.errors[n]}})),Z=l.useCallback((function(e){var n={};return i.filter((function(e){return e.id!==(null===t||void 0===t?void 0:t.id)})).map((function(e){n[e.name]=e})),!(0,f.Pz)(e,(0,r.Z)({},n))}),[i,t]),b=l.useCallback((function(e){return e&&0!==e.trim().length?!!Z(e)&&"".concat(e," is already being used or is a restricted keyword."):"Please enter a valid name"}),[Z]),j=(0,l.useCallback)((function(e){var n;!b(e)&&t&&t.name!==e&&A((0,h.CT)({id:null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:"",name:e}))}),[A,b,t]);return(0,l.useEffect)((function(){!1===y.isSaving&&!0===y.error?C(!0):!0===y.isSaving&&C(!1)}),[y.isSaving,y.error]),(0,m.jsxs)(v,{children:[(0,m.jsx)(u.ZP,{className:"t--edit-datasource-name",defaultValue:t?t.name:"",editInteractionKind:u.lK.SINGLE,forceDefault:x,isEditingDefault:e.focusOnMount,isInvalid:b,maxLength:30,onTextChanged:j,placeholder:"Datasource Name",type:"text",underline:!0,updating:y.isSaving}),y.isSaving&&(0,m.jsx)(g.$j,{size:16})]})}},93512:function(e,n,t){t.d(n,{Kk:function(){return N},ZM:function(){return k},cm:function(){return I},h4:function(){return O},nm:function(){return R},vU:function(){return S}});var i,r,o,a,s,l,c,u=t(27853),d=t(84531),p=t(81020),f=t(18334),h=t(17186),g=t(72791),m=t(86538),v=t(763),x=t.n(v),C=t(70906),A=t(91142),y=t(23074),Z=t(62895),b=t.n(Z),j=t(43272),T=t(75640),E=t(43617),w=t(29688),P=t(80184),I=((0,m.ZP)(j.Z)(i||(i=(0,h.Z)(["\n  height: 50%;\n"]))),m.ZP.img(r||(r=(0,h.Z)(["\n  height: 40px;\n  width: auto;\n"])))),S=m.ZP.div(o||(o=(0,h.Z)(["\n  flex-direction: row;\n  display: flex;\n  align-items: center;\n"]))),O=m.ZP.div(a||(a=(0,h.Z)(["\n  flex-direction: row;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  //margin-top: 16px;\n"]))),k=m.ZP.div(s||(s=(0,h.Z)(["\n  margin-top: 24px;\n  display: flex;\n  justify-content: flex-end;\n"]))),N=(0,m.ZP)(w.Y)(l||(l=(0,h.Z)(["\n  &&& {\n    width: auto;\n    min-width: 74px;\n    margin-right: 9px;\n    min-height: 32px;\n\n    & > span {\n      max-width: 100%;\n    }\n  }\n"]))),D=m.ZP.div(c||(c=(0,h.Z)(["\n  flex: 1;\n  padding: 20px;\n  margin-right: 0px;\n  overflow: auto;\n  .backBtn {\n    padding-bottom: 1px;\n    cursor: pointer;\n  }\n  .backBtnText {\n    font-size: 16px;\n    font-weight: 500;\n    cursor: pointer;\n  }\n"]))),R=function(e){(0,p.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;(0,u.Z)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).requiredFields={},e.configDetails={},e.validate=function(){var n={},t=Object.keys(e.requiredFields),i=e.props.formData;return t.forEach((function(t){var r=e.requiredFields[t];if("KEYVALUE_ARRAY"===r.controlType){var o=r.configProperty.split("[*]."),a=x().get(i,o[0],[]),s=[];a.forEach((function(e,n){var t=Object.keys(e),i={};e[t[0]]||(i[t[0]]="This field is required",s[n]=i),e[t[1]]||(i[t[1]]="This field is required",s[n]=i)})),s.length&&x().set(n,o[0],s)}else if("KEY_VAL_INPUT"===r.controlType){var l=x().get(i,t,[]);if(l.length)Object.values(l[0]).every((function(e){return e}))||x().set(n,t,"This field is required")}else{var c=x().get(i,t);x().isNil(c)&&x().set(n,t,"This field is required")}})),!x().isEmpty(n)},e.normalizeValues=function(){for(var n=e.props.formData,t={},i=0,r=Object.keys(e.configDetails);i<r.length;i++){var o=r[i],a=e.configDetails[o];if("KEYVALUE_ARRAY"===a){if("continue"===function(){var e=o.split("[*].");if(t[e[0]])return"continue";t[e[0]]=1;var i=x().get(n,e[0],[]),r=[];i.forEach((function(e){Object.values(e).every((function(e){return""===e}))||r.push(e)})),n=r.length?x().set(n,e[0],r):x().set(n,e[0],[])}())continue}else if("KEY_VAL_INPUT"===a){if("continue"===function(){if(t[o])return"continue";var e=x().get(n,o),i=[];e.forEach((function(e){Object.values(e).every((function(e){return""===e}))||i.push(e)})),n=i.length?x().set(n,o,i):x().set(n,o,[])}())continue}}return n},e.getTrimmedData=function(n){var t=(0,E.oL)(n),i=function(e){return e===E.Yk.ARRAY||e===E.Yk.OBJECT};return i(t)&&Object.keys(n).map((function(t){var r=(0,E.oL)(n[t]);i(r)?e.getTrimmedData(n[t]):r===E.Yk.STRING&&(n[t]=n[t].trim())})),n},e.renderForm=function(e){return(0,P.jsxs)("div",{className:"t--json-to-form-wrapper",style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,P.jsx)(T.Z,{}),(0,P.jsx)(D,{children:e})]})},e.renderMainSection=function(n,t){return(0,y.xj)(e.props.formData,n.hidden)?null:(0,P.jsx)(A.Z,{defaultIsOpen:0===t,title:n.sectionName,children:e.renderEachConfig(n)},t)},e.renderSingleConfig=function(n,t){t=t||[];try{return e.setupConfig(n),(0,P.jsx)("div",{style:{marginTop:"16px"},children:(0,P.jsx)(C.Z,{config:n,formName:e.props.formName,multipleConfig:t})},n.configProperty)}catch(i){b().error(i)}},e.setupConfig=function(n){var t=n.configProperty,i=n.controlType,r=n.isRequired;e.configDetails[t]=i,r&&(e.requiredFields[t]=n)},e.isKVArray=function(e){return!(!Array.isArray(e)||e.length<2)&&(e[0].controlType&&"KEYVALUE_ARRAY"===e[0].controlType)},e.renderKVArray=function(n){try{return n.forEach((function(n){return e.setupConfig(n)})),e.renderSingleConfig(n[n.length-1],n)}catch(t){b().error(t)}},e.renderEachConfig=function(n){return(0,P.jsx)("div",{children:x().map(n.children,(function(t){if((0,y.xj)(e.props.formData,n.hidden))return null;if("children"in t){var i=t.children;return e.isKVArray(i)?e.renderKVArray(i):e.renderEachConfig(t)}return e.renderSingleConfig(t)}))},n.sectionName)},e}return(0,d.Z)(t,[{key:"componentDidMount",value:function(){this.requiredFields={},this.configDetails={}}},{key:"componentDidUpdate",value:function(e){e.datasourceId!==this.props.datasourceId&&(this.requiredFields={},this.configDetails={})}}]),t}(g.Component)},99983:function(e,n,t){var i,r=t(18489),o=t(50678),a=t(17186),s=t(72791),l=t(33562),c=t(86538),u=t(41732),d=t(38545),p=t(68324),f=t(46898),h=t(81209),g=t(381),m=t(71520),v=t(52628),x=t(35581),C=t(80184),A=(0,c.ZP)(u.ZP)(i||(i=(0,a.Z)(["\n  padding: 10px 10px;\n  font-size: 12px;\n  &&&& {\n    height: 36px;\n    width: 136px;\n  }\n  svg {\n    width: 14px;\n    height: 14px;\n  }\n  ."," {\n    svg {\n      width: 16px;\n      height: 16px;\n    }\n  }\n"])),h.PZ.ICON);n.Z=function(e){var n=e.datasource,t=e.pluginType,i=(0,s.useState)(!1),a=(0,o.Z)(i,2),c=a[0],y=a[1],Z=(0,v.I0)(),b=(0,v.v9)((function(e){return e.entities.actions})),j=(0,v.v9)(x.zj),T=(0,s.useCallback)((function(i){if(null===i||void 0===i||i.stopPropagation(),t!==l.zV.API||n&&n.datasourceConfiguration&&n.datasourceConfiguration.url){if(j){y(!0);var o=t===l.zV.DB?(0,d.wF)(b,j||""):(0,d.U$)(b,j||""),a=(0,r.Z)((0,r.Z)({},g.q4),{},{headers:g.q4.headers}),s={name:o,pageId:j,pluginId:null===n||void 0===n?void 0:n.pluginId,datasource:{id:null===n||void 0===n?void 0:n.id},actionConfiguration:t===l.zV.API?a:{},eventData:{actionType:t===l.zV.DB?"Query":"API",from:e.eventFrom,dataSource:null===n||void 0===n?void 0:n.name}};n&&Z((0,m.B8)(s))}}else p.x7.show({text:(0,f.G$W)(),variant:h.$e.danger})}),[Z,b,j,n,t]);return(0,C.jsx)(A,{className:"t--create-query",icon:"plus",iconPosition:u.gg.left,isLoading:c||e.isLoading,onClick:T,text:t===l.zV.DB?"New Query":"New API"})}},34404:function(e,n,t){t.d(n,{Z:function(){return an}});var i,r,o,a=t(18489),s=t(27853),l=t(84531),c=t(81020),u=t(18334),d=t(72791),p=t(52628),f=t(22871),h=t(763),g=t.n(h),m=t(23861),v=t(40200),x=t(14099),C=t(44474),A=t(53538),y=t(17186),Z=t(86538),b=t(72310),j=t(72462),T=t(41732),E=t(60309),w=t(13581),P=t(80184),I=(0,w.ZP)(b.JO)(i||(i=(0,y.Z)(["\n  margin-right: 14.5px;\n  margin-left: 4px;\n  height: 100%;\n  background-color: #ef7541;\n  border: 2px solid rgba(239, 123, 99);\n  border-radius: 50%;\n"]))),S=w.ZP.div(r||(r=(0,y.Z)(["\n  background-color: rgba(239, 123, 99, 0.15);\n  padding: 10px 10px;\n  width: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  margin-top: 18px;\n  margin-bottom: 19px;\n  margin-left: 6px;\n  width: 89%;\n"]))),O=w.ZP.div(o||(o=(0,y.Z)(["\n  width: 2px;\n  background-color: #ef7541;\n  position: absolute;\n  left: 0;\n  height: 100%;\n"])));function k(e){return(0,P.jsxs)(S,{children:[(0,P.jsx)(O,{}),(0,P.jsx)(I,{color:"#FDEBE8",icon:"help"}),(0,P.jsx)("div",{children:e.children})]})}var N,D,R,_,G=t(27966),L=t(73931),H=t(73073),M=t(76914),U=t(40641),z=t(72014),V=t(33562),B=t(59103),F=t(81209),Y=t(93512),K=t(77239),X=(0,M.x)().cloudHosting,J=(0,Z.ZP)(b.JO)(N||(N=(0,y.Z)(["\n  svg {\n    width: 12px;\n    height: 18px;\n  }\n"]))),q=Z.ZP.div(D||(D=(0,y.Z)(["\n  width: max-content;\n"]))),W=(0,Z.ZP)(T.ZP)(R||(R=(0,y.Z)(["\n  padding: 10px 20px;\n  &&&& {\n    height: 32px;\n    max-width: 160px;\n    border: 1px solid ",";\n    width: auto;\n  }\n"])),E.w.HIT_GRAY),Q=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).getSanitizedData=function(){return e.getTrimmedData(e.normalizeValues())},e.openOmnibarReadMore=function(){(0,e.props.openOmnibarReadMore)("connect to databases"),U.Z.logEvent("OPEN_OMNIBAR",{source:"READ_MORE_DATASOURCE"})},e.renderDataSourceConfigForm=function(n){var t=e.props,i=t.datasource,r=t.datasourceButtonConfiguration,o=t.formData,a=t.messages,s=t.pluginType,l=t.viewMode;return(0,P.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[!e.props.hiddenHeader&&(0,P.jsxs)(Y.h4,{children:[(0,P.jsxs)(Y.vU,{children:[(0,P.jsx)(Y.cm,{alt:"Datasource",src:e.props.pluginImage}),(0,P.jsx)(j.Z,{focusOnMount:e.props.isNewDatasource})]}),l&&(0,P.jsx)(W,{category:T.WD.tertiary,className:"t--edit-datasource",onClick:function(){e.props.setDatasourceEditorMode(e.props.datasourceId,!1)},text:"EDIT"})]}),a&&a.map((function(e,n){return(0,P.jsx)(B.Z,{addMarginTop:!0,fill:!0,text:e,variant:F.$e.warning},n)})),!e.props.hiddenHeader&&X&&s===V.zV.DB&&!l&&(0,P.jsx)(q,{children:(0,P.jsxs)(k,{children:[(0,P.jsx)("span",{children:"Whitelist the IP ".concat((0,z.zO)(H.Sh),"  on your database instance to connect to it. ")}),(0,P.jsxs)("a",{onClick:e.openOmnibarReadMore,children:["Read more ",(0,P.jsx)(J,{icon:"document-open"})]})]})}),l?(0,P.jsx)(G.Z,{}):(0,P.jsxs)(P.Fragment,{children:[g().isNil(n)?void 0:g().map(n,e.renderMainSection),""]}),i&&(0,P.jsx)(K.ZP,{datasource:i,datasourceButtonConfiguration:r,formData:o,getSanitizedFormData:g().memoize(e.getSanitizedData),isInvalid:e.validate(),shouldRender:!l})]})},e}return(0,l.Z)(t,[{key:"componentDidUpdate",value:function(e){e.datasourceId!==this.props.datasourceId&&((0,C.Z)((0,A.Z)(t.prototype),"componentDidUpdate",this).call(this,e),this.props.hiddenHeader||this.props.setDatasourceEditorMode(this.props.datasourceId,!0))}},{key:"render",value:function(){var e=this.props,n=e.formConfig,t=e.viewMode;if(!this.props.initialized&&!t)return null;var i=this.renderDataSourceConfigForm(n);return this.renderForm(i)}}]),t}(Y.nm),$=(0,p.$j)((function(e,n){var t,i=e.entities.datasources.list.find((function(e){return e.id===n.datasourceId}));return{messages:i&&i.messages,datasource:i,datasourceButtonConfiguration:(0,m.Ds)(e,null===n||void 0===n||null===(t=n.formData)||void 0===t?void 0:t.pluginId),isReconnectingModalOpen:e.entities.datasources.isReconnectingModalOpen}}))((0,L.Z)({form:x._8,enableReinitialize:!0})(Q)),ee=t(38545),ne=t(8236),te=t(81619),ie=t(70906),re=t(72060),oe=t(43272),ae=t(68324),se=t(381),le=t(71520),ce=t(49764),ue=function(e){var n,t,i,r=g().get(e,"datasourceConfiguration.authentication.authenticationType",ce.Gr.NONE),o=g().get(e,"datasourceConfiguration.connection",{ssl:{authType:ce.vx.DEFAULT}}),a=pe(r,e),s="Y"===g().get(e,"datasourceConfiguration.properties[0].value","N"),l=s?g().get(e,"datasourceConfiguration.properties[1].value"):"";return{datasourceId:e.id,workspaceId:e.workspaceId,pluginId:e.pluginId,isValid:e.isValid,url:null===(n=e.datasourceConfiguration)||void 0===n?void 0:n.url,headers:ge(null===(t=e.datasourceConfiguration)||void 0===t?void 0:t.headers),queryParameters:ge(null===(i=e.datasourceConfiguration)||void 0===i?void 0:i.queryParameters),isSendSessionEnabled:s,sessionSignatureKey:l,authType:r,authentication:a,connection:o}},de=function(e,n){if(e===ce.Gr.NONE||!n)return null;if(fe(e,n)||he(e,n)){var t={authenticationType:ce.Gr.OAuth2,accessTokenUrl:n.accessTokenUrl,clientId:n.clientId,headerPrefix:n.headerPrefix,scopeString:n.scopeString,clientSecret:n.clientSecret,isTokenHeader:n.isTokenHeader,audience:n.audience,resource:n.resource,sendScopeWithRefreshToken:n.sendScopeWithRefreshToken,refreshTokenClientCredentialsLocation:n.refreshTokenClientCredentialsLocation};if(fe(e,n))return(0,a.Z)((0,a.Z)({},t),{},{grantType:ce.qJ.ClientCredentials,customTokenParameters:ge(n.customTokenParameters)});if(he(e,n))return(0,a.Z)((0,a.Z)({},t),{},{grantType:ce.qJ.AuthorizationCode,authorizationUrl:n.authorizationUrl,isAuthorizationHeader:n.isAuthorizationHeader,isAuthorized:!!n.isAuthorized,customAuthenticationParameters:ge(n.customAuthenticationParameters)})}if(e===ce.Gr.basic&&"username"in n)return{authenticationType:ce.Gr.basic,username:n.username,password:n.password};if(e===ce.Gr.apiKey&&"label"in n)return{authenticationType:ce.Gr.apiKey,label:n.label,value:n.value,headerPrefix:n.headerPrefix,addTo:n.addTo};if(e===ce.Gr.bearerToken&&"bearerToken"in n)return{authenticationType:ce.Gr.bearerToken,bearerToken:n.bearerToken};return null},pe=function(e,n){if(n&&n.datasourceConfiguration&&n.datasourceConfiguration.authentication){var t=n.datasourceConfiguration.authentication;if(fe(e,t)||he(e,t)){var i={authenticationType:ce.Gr.OAuth2,accessTokenUrl:t.accessTokenUrl||"",clientId:t.clientId||"",headerPrefix:t.headerPrefix||"",scopeString:t.scopeString||"",clientSecret:t.clientSecret,isTokenHeader:!!t.isTokenHeader,audience:t.audience||"",resource:t.resource||"",sendScopeWithRefreshToken:t.sendScopeWithRefreshToken||"",refreshTokenClientCredentialsLocation:t.refreshTokenClientCredentialsLocation||"BODY"};if(fe(e,t))return(0,a.Z)((0,a.Z)({},i),{},{grantType:ce.qJ.ClientCredentials,customTokenParameters:ge(t.customTokenParameters)});if(he(e,t))return(0,a.Z)((0,a.Z)({},i),{},{grantType:ce.qJ.AuthorizationCode,authorizationUrl:t.authorizationUrl||"",customAuthenticationParameters:ge(t.customAuthenticationParameters),isAuthorized:!!t.isAuthorized,isAuthorizationHeader:"undefined"===typeof t.isAuthorizationHeader||!!t.isAuthorizationHeader})}if(e===ce.Gr.basic)return{authenticationType:ce.Gr.basic,username:t.username||"",password:t.password||""};if(e===ce.Gr.apiKey)return{authenticationType:ce.Gr.apiKey,label:t.label||"",value:t.value||"",headerPrefix:t.headerPrefix||"",addTo:t.addTo||""};if(e===ce.Gr.bearerToken)return{authenticationType:ce.Gr.bearerToken,bearerToken:t.bearerToken||""}}},fe=function(e,n){return e===ce.Gr.OAuth2&&(!n||g().get(n,"grantType")===ce.qJ.ClientCredentials)},he=function(e,n){return e===ce.Gr.OAuth2&&g().get(n,"grantType")===ce.qJ.AuthorizationCode},ge=function(e){if(!Array.isArray(e))return[];var n=[];return e.forEach((function(e){Object.values(e).every((function(e){return""===e}))||n.push(e)})),n},me=t(46898),ve=t(91142),xe=t(303),Ce=t(50678),Ae=t(76998),ye=t.n(Ae),Ze=t(18613),be=t(29688),je=Z.ZP.div(_||(_=(0,y.Z)(["\n  display: flex;\n\n  div {\n    flex-basis: calc(100% - 90px);\n  }\n  input:disabled {\n    color: #555;\n  }\n  button {\n    flex-basis: 80px;\n    margin-left: 10px;\n  }\n"])));var Te,Ee,we,Pe,Ie,Se,Oe,ke,Ne,De,Re=function(e){var n=e.copyText,t=(0,d.createRef)(),i=(0,d.useState)(!1),r=(0,Ce.Z)(i,2),o=r[0],a=r[1];return(0,P.jsxs)(je,{children:[(0,P.jsx)(Ze.JK,{defaultValue:n,disabled:!0,fill:!0,onChange:function(){t.current&&t.current.setSelectionRange(0,n.length)}}),(0,P.jsx)(be.Y,{onClick:function(){var e;e=n,ye()(e),a(!0),setTimeout((function(){a(!1)}),3e3)},text:o?"Copied":"Copy"})]})},_e=t(75640),Ge=t(17909),Le=t(61386),He=t(28446),Me=Z.ZP.div(Te||(Te=(0,y.Z)(["\n  flex: 1;\n  padding: 20px;\n  margin-left: 10px;\n  margin-right: 0px;\n  overflow: auto;\n  .backBtn {\n    padding-bottom: 1px;\n    cursor: pointer;\n  }\n  .backBtnText {\n    font-size: 16px;\n    font-weight: 500;\n    cursor: pointer;\n  }\n"]))),Ue=Z.ZP.div(Ee||(Ee=(0,y.Z)(["\n  margin-top: 16px;\n"]))),ze=((0,Z.ZP)(oe.Z)(we||(we=(0,y.Z)(["\n  height: 50%;\n"]))),Z.ZP.img(Pe||(Pe=(0,y.Z)(["\n  height: 40px;\n  width: auto;\n"])))),Ve=Z.ZP.div(Ie||(Ie=(0,y.Z)(["\n  flex-direction: row;\n  display: flex;\n  align-items: center;\n"]))),Be=Z.ZP.div(Se||(Se=(0,y.Z)(["\n  flex-direction: row;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Fe=Z.ZP.div(Oe||(Oe=(0,y.Z)(["\n  margin-top: 24px;\n  display: flex;\n  justify-content: flex-end;\n"]))),Ye=(0,Z.ZP)(be.Y)(ke||(ke=(0,y.Z)(["\n  &&& {\n    width: auto;\n    min-width: 74px;\n    margin-right: 9px;\n    min-height: 32px;\n\n    & > span {\n      max-width: 100%;\n    }\n  }\n"]))),Ke=(0,Z.ZP)(ne.Z)(Ne||(Ne=(0,y.Z)(["\n  &&&& {\n    width: 87px;\n    height: 32px;\n  }\n"]))),Xe=(0,Z.ZP)(Ke)(De||(De=(0,y.Z)(["\n  &&&& {\n    width: 180px;\n  }\n"]))),Je=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(e){var i;return(0,s.Z)(this,t),(i=n.call(this,e)).ensureAPIKeyDefaultsAreCorrect=function(){if(i.props.formData){var e=i.props.formData.authentication;e&&g().get(e,"addTo")||i.props.change("authentication.addTo",ce.b4.Header),e&&g().get(e,"headerPrefix")||i.props.change("authentication.headerPefix","ApiKeyAuthType.Header")}},i.ensureOAuthDefaultsAreCorrect=function(){if(i.props.formData){var e=i.props.formData.authentication;e&&g().get(e,"grantType")||i.props.change("authentication.grantType",ce.qJ.ClientCredentials),void 0===g().get(e,"isTokenHeader")&&i.props.change("authentication.isTokenHeader",!0),i.isDirty("authentication.headerPrefix")||void 0!==g().get(e,"headerPrefix")||i.props.change("authentication.headerPrefix","Bearer"),g().get(e,"grantType")===ce.qJ.AuthorizationCode&&void 0===g().get(e,"isAuthorizationHeader")&&i.props.change("authentication.isAuthorizationHeader",!0),g().get(e,"grantType")===ce.qJ.AuthorizationCode&&(void 0!==g().get(e,"sendScopeWithRefreshToken")&&""!==g().get(e,"sendScopeWithRefreshToken")||i.props.change("authentication.sendScopeWithRefreshToken",!1)),g().get(e,"grantType")===ce.qJ.AuthorizationCode&&(void 0!==g().get(e,"refreshTokenClientCredentialsLocation")&&""!==g().get(e,"refreshTokenClientCredentialsLocation")||i.props.change("authentication.refreshTokenClientCredentialsLocation","BODY"))}},i.disableSave=function(){var e=i.props.formData;return!e||!e.url},i.save=function(e){var n=function(e,n){var t=de(n.authType,n.authentication);return(0,a.Z)((0,a.Z)({},e),{},{datasourceConfiguration:{url:n.url,headers:ge(n.headers),queryParameters:ge(n.queryParameters),properties:[{key:"isSendSessionEnabled",value:n.isSendSessionEnabled?"Y":"N"},{key:"sessionSignatureKey",value:n.sessionSignatureKey}],authentication:t,connection:n.connection}})}(i.props.datasource,i.props.formData);U.Z.logEvent("SAVE_DATA_SOURCE_CLICK",{pageId:i.props.pageId,appId:i.props.applicationId}),i.props.updateDatasource(n,e)},i.createApiAction=function(){var e,n,t,r,o,s,l=i.props,c=l.actions,u=l.datasource,d=l.pageId;if(u&&u.datasourceConfiguration&&u.datasourceConfiguration.url){var p=(0,ee.U$)(c,d||""),f=null!==(e=null===(n=i.props.datasource)||void 0===n||null===(t=n.datasourceConfiguration)||void 0===t?void 0:t.headers)&&void 0!==e?e:[],h=null!==(r=null===(o=i.props.datasource)||void 0===o||null===(s=o.datasourceConfiguration)||void 0===s?void 0:s.queryParameters)&&void 0!==r?r:[],g=(0,a.Z)((0,a.Z)({},se.q4),{},{headers:f.length?f:se.q4.headers,queryParameters:h.length?h:se.q4.queryParameters});i.save((0,le.B8)({name:p,pageId:d,pluginId:u.pluginId,datasource:{id:u.id},eventData:{actionType:"API",from:"datasource-pane"},actionConfiguration:g}))}else ae.x7.show({text:"Unable to create API. Try adding a url to the datasource",variant:F.$e.danger})},i.render=function(){return(0,P.jsxs)(P.Fragment,{children:[!i.props.hiddenHeader&&(0,P.jsx)(_e.Z,{}),(0,P.jsx)(Me,{children:(0,P.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[i.renderHeader(),i.renderEditor(),i.renderSave()]})})]})},i.renderHeader=function(){var e=i.props,n=e.hiddenHeader,t=e.isNewDatasource,r=e.pluginImage;return n?null:(0,P.jsx)(Be,{children:(0,P.jsxs)(Ve,{children:[(0,P.jsx)(ze,{alt:"Datasource",src:r}),(0,P.jsx)(j.Z,{focusOnMount:t})]})})},i.renderSave=function(){var e=i.props,n=e.datasourceId,t=e.deleteDatasource,r=e.hiddenHeader,o=e.isDeleting,a=e.isSaving;return(0,P.jsxs)(Fe,{children:[!r&&(0,P.jsx)(Ye,{buttonStyle:"DANGER",buttonVariant:Ge.lm.PRIMARY,className:"t--delete-datasource",loading:o,onClick:function(){i.state.confirmDelete?t(n):i.setState({confirmDelete:!0})},text:i.state.confirmDelete?(0,me.tnH)(me.fUd):(0,me.tnH)(me.mcU)}),(0,P.jsx)(Ke,{className:"t--save-datasource",disabled:i.disableSave(),filled:!0,intent:"primary",loading:a,onClick:function(){return i.save()},size:"small",text:"Save"})]})},i.renderEditor=function(){var e=i.props,n=e.datasource,t=e.datasourceId,r=e.formData,o=e.isSaving,a=e.messages,s=e.pageId,l=g().get(n,"datasourceConfiguration.authentication.isAuthorized",!1);if(r){var c=r.authentication;return(0,P.jsxs)(P.Fragment,{children:[a&&a.map((function(e,n){return(0,P.jsx)(B.Z,{fill:!0,text:e,variant:F.$e.warning},n)})),(0,P.jsx)(Ue,{"data-replay-id":btoa("url"),children:i.renderInputTextControlViaFormControl("url","URL","https://example.com","TEXT",!1,!0)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("headers"),children:i.renderKeyValueControlViaFormControl("headers","Headers","",!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("queryParameters"),children:i.renderKeyValueControlViaFormControl("queryParameters","Query Parameters","",!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("isSendSessionEnabled"),children:i.renderDropdownControlViaFormControl("isSendSessionEnabled",[{label:"Yes",value:!0},{label:"No",value:!1}],"Send Appsmith signature header","",!0,"Header key: X-APPSMITH-SIGNATURE")}),r.isSendSessionEnabled&&(0,P.jsx)(Ue,{"data-replay-id":btoa("sessionSignatureKey"),children:i.renderInputTextControlViaFormControl("sessionSignatureKey","Session Details Signature Key","","TEXT",!1,!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("authType"),children:i.renderDropdownControlViaFormControl("authType",[{label:"None",value:ce.Gr.NONE},{label:"Basic",value:ce.Gr.basic},{label:"OAuth 2.0",value:ce.Gr.OAuth2},{label:"API Key",value:ce.Gr.apiKey},{label:"Bearer Token",value:ce.Gr.bearerToken}],"Authentication Type","",!1,"")}),i.renderAuthFields(),(0,P.jsx)(ve.Z,{title:"Advanced Settings",children:i.renderOauth2AdvancedSettings()}),i.renderSelfSignedCertificateFields(),r.authType&&r.authType===ce.Gr.OAuth2&&g().get(c,"grantType")===ce.qJ.AuthorizationCode&&(0,P.jsx)(Ue,{children:(0,P.jsx)(Xe,{disabled:i.disableSave(),filled:!0,intent:"primary",loading:o,onClick:function(){return i.save((0,v.l8)(s,t,V.zV.API))},size:"small",text:l?"Save and Re-Authorize":"Save and Authorize"})})]})}},i.renderSelfSignedCertificateFields=function(){var e=i.props.formData.connection;if((null===e||void 0===e?void 0:e.ssl.authType)===ce.vx.SELF_SIGNED_CERTIFICATE)return(0,P.jsx)(ve.Z,{defaultIsOpen:!0,title:"Certificate Details",children:i.renderFilePickerControlViaFormControl("connection.ssl.certificateFile","Upload Certificate","",!1,!0)})},i.renderAuthFields=function(){var e,n=i.props.formData.authType;if(n===ce.Gr.OAuth2?e=i.renderOauth2():n===ce.Gr.basic?e=i.renderBasic():n===ce.Gr.apiKey?e=i.renderApiKey():n===ce.Gr.bearerToken&&(e=i.renderBearerToken()),e)return(0,P.jsx)(ve.Z,{defaultIsOpen:!0,title:"Authentication",children:e})},i.renderApiKey=function(){var e=i.props.formData.authentication;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.label"),children:i.renderInputTextControlViaFormControl("authentication.label","Key","api_key","TEXT",!1,!1)}),(0,P.jsx)(Ue,{children:i.renderInputTextControlViaFormControl("authentication.value","Value","value","TEXT",!0,!1)}),(0,P.jsx)(Ue,{children:i.renderDropdownControlViaFormControl("authentication.addTo",[{label:"Query Params",value:ce.b4.QueryParams},{label:"Header",value:ce.b4.Header}],"Add To","",!1,"")}),"header"==g().get(e,"addTo")&&(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.headerPrefix"),children:i.renderInputTextControlViaFormControl("authentication.headerPrefix","Header Prefix","eg: Bearer ","TEXT",!1,!1)})]})},i.renderBearerToken=function(){return(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.bearerToken"),children:i.renderInputTextControlViaFormControl("authentication.bearerToken","Bearer Token","Bearer Token","TEXT",!0,!1)})},i.renderBasic=function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.username"),children:i.renderInputTextControlViaFormControl("authentication.username","Username","Username","TEXT",!1,!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.password"),children:i.renderInputTextControlViaFormControl("authentication.password","Password","Password","PASSWORD",!0,!1)})]})},i.renderOauth2=function(){var e=i.props.formData.authentication;if(e){var n;switch(g().get(e,"grantType")){case ce.qJ.AuthorizationCode:n=i.renderOauth2AuthorizationCode();break;case ce.qJ.ClientCredentials:n=i.renderOauth2ClientCredentials()}return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.grantType"),children:i.renderDropdownControlViaFormControl("authentication.grantType",[{label:"Client Credentials",value:ce.qJ.ClientCredentials},{label:"Authorization Code",value:ce.qJ.AuthorizationCode}],"Grant Type","",!1,"")}),n]})}},i.renderOauth2Common=function(){var e=i.props.formData;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.isTokenHeader"),children:i.renderDropdownControlViaFormControl("authentication.isTokenHeader",[{label:"Request Header",value:!0},{label:"Request URL",value:!1}],"Add Access Token To","",!1,"")}),g().get(e.authentication,"isTokenHeader")&&(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.headerPrefix"),children:i.renderInputTextControlViaFormControl("authentication.headerPrefix","Header Prefix","eg: Bearer ","TEXT",!1,!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.accessTokenUrl"),children:i.renderInputTextControlViaFormControl("authentication.accessTokenUrl","Access Token URL","https://example.com/login/oauth/access_token","TEXT",!1,!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.clientId"),children:i.renderInputTextControlViaFormControl("authentication.clientId","Client ID","Client ID","TEXT",!1,!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.clientSecret"),children:i.renderInputTextControlViaFormControl("authentication.clientSecret","Client Secret","Client Secret","PASSWORD",!0,!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.scopeString"),children:i.renderInputTextControlViaFormControl("authentication.scopeString","Scope(s)","e.g. read, write","TEXT",!1,!1)})]})},i.renderOauth2AdvancedSettings=function(){var e=i.props.formData,n=e.authentication,t=e.authType,r=g().get(n,"grantType")===ce.qJ.AuthorizationCode,o=t===ce.Gr.OAuth2;return(0,P.jsxs)(P.Fragment,{children:[o&&r&&(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.sendScopeWithRefreshToken"),children:i.renderDropdownControlViaFormControl("authentication.sendScopeWithRefreshToken",[{label:"Yes",value:!0},{label:"No",value:!1}],"Send scope with refresh token","",!1,"")}),o&&r&&(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.refreshTokenClientCredentialsLocation"),children:i.renderDropdownControlViaFormControl("authentication.refreshTokenClientCredentialsLocation",[{label:"Body",value:"BODY"},{label:"Header",value:"HEADER"}],"Send client credentials with (on refresh token):","",!1,"")}),(0,P.jsx)(Ue,{"data-replay-id":btoa("ssl"),children:i.renderDropdownControlViaFormControl("connection.ssl.authType",[{label:"No",value:"DEFAULT"},{label:"Yes",value:"SELF_SIGNED_CERTIFICATE"}],"Use Self-signed certificate","",!0,"","DEFAULT")})]})},i.renderOauth2CommonAdvanced=function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.audience"),children:i.renderInputTextControlViaFormControl("authentication.audience","Audience","https://example.com/oauth/audience","TEXT",!1,!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.resource"),children:i.renderInputTextControlViaFormControl("authentication.resource","Resource","https://example.com/oauth/resource","TEXT",!1,!1)})]})},i.renderOauth2ClientCredentials=function(){return(0,P.jsxs)(P.Fragment,{children:[i.renderOauth2Common(),i.renderOauth2CommonAdvanced()]})},i.renderOauth2AuthorizationCode=function(){var e=i.props.formData,n=window.location.origin+"/api/v1/datasources/authorize";return(0,P.jsxs)(P.Fragment,{children:[i.renderOauth2Common(),(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.authorizationUrl"),children:i.renderInputTextControlViaFormControl("authentication.authorizationUrl","Authorization URL","https://example.com/login/oauth/authorize","TEXT",!1,!1)}),(0,P.jsx)(Ue,{children:(0,P.jsxs)("div",{style:{width:"20vw"},children:[(0,P.jsxs)(xe.Z,{children:["Redirect URL",(0,P.jsx)("br",{}),(0,P.jsx)(re.jx,{children:"Url that the oauth server should redirect to"})]}),(0,P.jsx)(Re,{copyText:n})]})}),(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.customAuthenticationParameters"),children:i.renderKeyValueControlViaFormControl("authentication.customAuthenticationParameters","Custom Authentication Parameters","",!1)}),(0,P.jsx)(Ue,{"data-replay-id":btoa("authentication.isAuthorizationHeader"),children:i.renderDropdownControlViaFormControl("authentication.isAuthorizationHeader",[{label:"Send as Basic Auth header",value:!0},{label:"Send client credentials in body",value:!1}],"Client Authentication","",!1,"")}),!g().get(e.authentication,"isAuthorizationHeader",!0)&&i.renderOauth2CommonAdvanced()]})},i.state={confirmDelete:!1},i}return(0,l.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.responseStatus;if(this.props.initializeReplayEntity(this.props.datasource.id,this.props.initialValues),e){var n=me.GkW,t=F.$e.danger;"success"===e?(n=me.B5v,t=F.$e.success):"appsmith_error"===e&&(n=me.uuC),ae.x7.show({text:this.props.responseMessage||(0,me.tnH)(n),variant:t})}}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.formData){if(this.state.confirmDelete)g().debounce((function(){return e.setState({confirmDelete:!1})}),2200)();var n=this.props.formData.authType;n===ce.Gr.OAuth2?this.ensureOAuthDefaultsAreCorrect():n===ce.Gr.apiKey&&this.ensureAPIKeyDefaultsAreCorrect()}}},{key:"isDirty",value:function(e){var n=this.props.formMeta;return g().get(n,e+".visited",!1)}},{key:"renderInputTextControlViaFormControl",value:function(e,n,t,i,r,o){return(0,P.jsx)(ie.Z,{config:{id:"",isValid:!1,isRequired:o,controlType:"INPUT_TEXT",dataType:i,configProperty:e,encrypted:r,label:n,conditionals:{},placeholderText:t,formName:x.b6},formName:x.b6,multipleConfig:[]})}},{key:"renderDropdownControlViaFormControl",value:function(e,n,t,i,r,o,a){var s={id:"",isValid:!1,isRequired:r,controlType:"DROP_DOWN",configProperty:e,options:n,subtitle:o,label:t,conditionals:{},placeholderText:i,formName:x.b6,initialValue:a};return(0,P.jsx)(ie.Z,{config:s,formName:x.b6,multipleConfig:[]})}},{key:"renderKeyValueControlViaFormControl",value:function(e,n,t,i){var r={id:"",configProperty:e,isValid:!1,controlType:"KEYVALUE_ARRAY",placeholderText:t,label:n,conditionals:{},formName:x.b6,isRequired:i};return(0,P.jsx)(ie.Z,{config:r,formName:x.b6,multipleConfig:[]})}},{key:"renderFilePickerControlViaFormControl",value:function(e,n,t,i,r){var o={id:"",configProperty:e,isValid:!1,controlType:"FILE_PICKER",placeholderText:t,encrypted:r,label:n,conditionals:{},formName:x.b6,isRequired:i};return(0,P.jsx)(ie.Z,{config:o,formName:x.b6,multipleConfig:[]})}}]),t}(d.Component),qe=(0,p.$j)((function(e,n){var t=e.entities.datasources.list.find((function(e){return e.id===n.datasourceId})),i=t&&t.messages,r=n.responseStatus,o=n.responseMessage;if(n.location){var a=new URLSearchParams(n.location.search);r=a.get("response_status"),o=a.get("display_message")}return{initialValues:ue(t),datasource:t,actions:e.entities.actions,formData:(0,f.Z)(x.b6)(e),formMeta:(0,te.Z)(x.b6)(e),messages:i,responseStatus:r,responseMessage:o}}),(function(e){return{initializeReplayEntity:function(n,t){return e((0,Le.n6)(n,t,He.lU.DATASOURCE))},updateDatasource:function(n,t){return e((0,v.Y_)(n,t))},deleteDatasource:function(n){return e((0,v.Vl)({id:n}))}}}))((0,L.Z)({form:x.b6,enableReinitialize:!0})(Je)),We=t(75691),Qe=t(77324),$e=t(95708),en=t(56244),nn=t(35581),tn=t(7526),rn=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(){return(0,s.Z)(this,t),n.apply(this,arguments)}return(0,l.Z)(t,[{key:"componentDidUpdate",value:function(e){"RestAPIDatasourceForm"!==this.props.pluginDatasourceForm&&this.props.datasourceId&&this.props.datasourceId!==e.datasourceId&&this.props.switchDatasource(this.props.datasourceId)}},{key:"componentDidMount",value:function(){this.props.datasourceId&&"RestAPIDatasourceForm"!==this.props.pluginDatasourceForm&&this.props.switchDatasource(this.props.datasourceId)}},{key:"render",value:function(){var e=this.props,n=e.datasourceId,t=e.formConfig,i=e.formData,r=e.fromImporting,o=e.isDeleting,a=e.isNewDatasource,s=e.isSaving,l=e.isTesting,c=e.openOmnibarReadMore,u=e.pageId,d=e.pluginId,p=e.pluginImages,f=e.pluginType,h=e.setDatasourceEditorMode,g=e.viewMode;return(0,P.jsx)($,{applicationId:this.props.applicationId,datasourceId:n,formConfig:t,formData:i,formName:x._8,hiddenHeader:r,isDeleting:o,isNewDatasource:a,isSaving:s,isTesting:l,openOmnibarReadMore:c,pageId:u,pluginImage:p[d],pluginType:f,setDatasourceEditorMode:h,viewMode:g&&!r})}}]),t}(d.Component),on=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(){return(0,s.Z)(this,t),n.apply(this,arguments)}return(0,l.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.datasourceId,t=e.fromImporting,i=e.history,r=e.isDeleting,o=e.isNewDatasource,s=e.isSaving,l=e.location,c=e.pageId,u=e.pluginDatasourceForm,d=e.pluginId,p=e.pluginImages,f=e.pluginPackageName,h=e.pluginType,g=e.viewMode;return!d&&n?(0,P.jsx)(We.Z,{}):"RestAPIDatasourceForm"!==u||g&&!t?"SAAS"===h?t?(0,P.jsx)(en.Z,{datasourceId:n,hiddenHeader:!0,pageId:c,pluginPackageName:f}):void i.push((0,tn.AP)({applicationSlug:this.props.applicationSlug,pageSlug:this.props.pageSlug,pageId:c,pluginPackageName:f,datasourceId:n})):(0,P.jsx)(rn,(0,a.Z)((0,a.Z)({},this.props),{},{datasourceId:n,pageId:c})):(0,P.jsx)(qe,{applicationId:this.props.applicationId,datasourceId:n,hiddenHeader:t,isDeleting:r,isNewDatasource:o,isSaving:s,location:l,pageId:c,pluginImage:p[d]})}}]),t}(d.Component),an=(0,p.$j)((function(e,n){var t,i,r,o,a,s,l,c,u,d,p,h,v,C=null!==(t=n.datasourceId)&&void 0!==t?t:null===(i=n.match)||void 0===i||null===(r=i.params)||void 0===r?void 0:r.datasourceId,A=e.ui.datasourcePane,y=e.entities,Z=y.datasources,b=y.plugins,j=(0,m.qO)(e,C),T=b.formConfigs,E=(0,f.Z)(x._8)(e),w=g().get(j,"pluginId",""),P=(0,m.s3)(e,w),I=(0,nn.AJ)(e),S=I.applicationSlug,O=I.pageSlug;return{datasourceId:C,pluginImages:(0,m.x8)(e),formData:E,fromImporting:null!==(o=n.fromImporting)&&void 0!==o&&o,pluginId:w,isSaving:Z.loading,isDeleting:Z.isDeleting,isTesting:Z.isTesting,formConfig:T[w]||[],isNewDatasource:A.newDatasource===C,pageId:null!==(a=n.pageId)&&void 0!==a?a:null===(s=n.match)||void 0===s||null===(l=s.params)||void 0===l?void 0:l.pageId,viewMode:null!==(c=A.viewMode[null!==(u=null===j||void 0===j?void 0:j.id)&&void 0!==u?u:""])&&void 0!==c?c:!n.fromImporting,pluginType:null!==(d=null===P||void 0===P?void 0:P.type)&&void 0!==d?d:"",pluginDatasourceForm:null!==(p=null===P||void 0===P?void 0:P.datasourceComponent)&&void 0!==p?p:$e.oY.AutoForm,pluginPackageName:null!==(h=null===P||void 0===P?void 0:P.packageName)&&void 0!==h?h:"",applicationId:null!==(v=n.applicationId)&&void 0!==v?v:(0,nn.aS)(e),applicationSlug:S,pageSlug:O}}),(function(e,n){return{switchDatasource:function(t){e((0,v.XQ)(t,n.fromImporting))},setDatasourceEditorMode:function(n,t){return e((0,v.QO)({id:n,viewMode:t}))},openOmnibarReadMore:function(n){e((0,Qe.nt)(n)),e((0,Qe.Lm)())}}}))(on)},75691:function(e,n,t){t.d(n,{Z:function(){return d}});var i,r=t(17186),o=(t(72791),t(86538)),a=t(41732),s=t(46898),l=t(79271),c=t(80184),u=o.ZP.div(i||(i=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  align-items: center;\n  justify-content: flex-start;\n  padding-top: 15%;\n  background: #fcfcfc;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  .page-details {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 450px;\n  }\n  .bold-text {\n    font-weight: ",";\n    font-size: 24px;\n    margin-top: 20px;\n  }\n  .page-message {\n    margin-top: 14px;\n    color: #716e6e;\n    font-size: 14px;\n    line-height: 17px;\n    letter-spacing: 0.733333px;\n  }\n  .page-unavailable-img {\n    width: 72px;\n  }\n  .button-position {\n    margin-top: 14px;\n  }\n"])),(function(e){return e.theme.fontWeights[3]}));var d=function(e){var n=(0,l.k6)();return(0,c.jsxs)(u,{children:[(0,c.jsx)("img",{alt:"Page Unavailable",className:"page-unavailable-img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABWCAMAAAAHZWO6AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB+FBMVEUAAAD////qYyfnYCj////naCjnYifnYSjkXicAAADTXyQAAAAAAADlYibgXyfpYie/WSYAAADnYifiXyfoYifIWiKAgIDIUyLkYibkYCfZWiUAAADmYibnYifbXiTeXia2VSTPWinlYiZVVVXmYSjdXybmYCZAQEDZXiUzMzPiXyWyTBnlYCbNXCPkYifUWybiXyjNVSPdXiXeXiTiYSfkYCbdXyXkYCfgXiaqVRjJVyjgXyTDVyLiXyaqSRjQViTYWyXPVyTFUyDAUR+8UCC6Tx66TyC5TiC7TyC+UCHBUiDJVSPTWSPZXCQAAAAAAAAAAAAHBwcAAAAAAAAAAAAAAAAAAAAEBAQEBAQAAAAEBAQAAAAAAAAGBgYICAgAAAAcHBwkJCQQEBAAAAAAAAAAAAAAAAAFBQUEBAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCgoICAgGBgYGBgYFBQUAAAAGBgYAAAAFBQUAAAAAAAAAAAAAAAAAAAAAAAAHBwcAAAAAAAAAAAAAAAAAAAAUFBQAAAANDQ0MDAwNDQ0AAAAAAAAqKioAAAAZGRnoYifwnXjqbDTrdkL87OT2xK7////uiV352Mn86+TzsJP+9fH1u6Dtf1DtiV3yp4XzsZP518n+9fL4zrz4zrvsf0/74tfvk2rypoUYorMSAAAAj3RSTlMAAG8gASDAoEEBIwME0WPvFAXgg/AlAiWiokQCwbFUZBUlkgOhQ8EERAWDFJIkojVzJERkg6JTgmQVJmMmcxVHiY+Wmp2fn6CenJmTjIgGDRckLjc8PT4+Pz89OTMqHhMJBxAaJTQ4ODkyKyAVCwcPGSEpLS8vLjAwLCYeFCEiIhwYEAoIDRIUFRMRDgYJCk/XU6oAAAABYktHRAH/Ai3eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QILDQIAHXIFIQAABThJREFUaN7NWIt/00QcB43oeWVbN1bAgw2M0nUwZL7f77Y+QYuwaVWq6DZlTqftfNAH0ml9tVfK4h6IIor+m/5+l7RNmqRJ0+Tz8bskd7m73He/y/fuvs22bf8z3HRzoN1Lt/AdwRLcyvltEgmsf3I753wHDYyAhHYCAR+g2wPqnw5g/3xwKKAQpPAw5/VLnI8EM0iEjnDeuLzG+a7RSCAEuyGANUX5lfM9IRJEAHshAEVR1uE13OF/CISNchGACGGf/yFIof3whrF/ZQPe8xjzWaokMg4BXBYEyibnw35LlQiJqv0rWwFIlY2jRDUC5QpI9QDzs//IQQjgitLCb5zfKRM/JXqXKtEmUKp3+xgCbUm0CZDqoahvIUSiMMeu6vtXNoBxgvk2QGNtiTbxO0g15lMI20M6iSo6qU7K/sxhGSR6qSMAMdsGD/sySGwUAvhDMaHB+RE/liQiTxolqpfqFPNzFe2EP6sqkY9aB6CGMNHve5bYPTqJXmsg6jqp7ux3thlWUeWacBVX9VI9xvpjoOP6OdZB4INUWcwg0U6CLZDqSD+DRChK9E9bAuU6bAzTfQwS2W2UqIlAlarkm0TNBCjVez2/BYYBrHclUOoQQtjjGAkzbVhFLQjQw9xHvRHIA53bgAWBkOqQp7fAwqZV1IrAs4eR6P16p2JLoKDdnvLgVYVT6VhFLQlQqg/0vqq2zLQzgVhVI562gb9cEYjZFuuRgUT3mzd6OwKU6oO92W2DmXYkEHb7MOltjlk4FXuCnqVK2DGTRLsRoN0ePNADAZsymmlHArTbR9yHQKjNRm9PIKTqemNgB22cij1BTx6GmM20M0EvdpuNWUnUgaAHux2xlqgTAUr1IVc2jD5sKVEnAvHLcMjFIEVszLQjgbDbLqQamrTzok4EKNXpiOTkRW3NtCOBK6lKOMf+VrwR3HAhVTZhJ1GhlHXEDbtqYbdjXceIxGwl6gaOdlti490CcMamwydD9oi9RN2F0Oi6MUgho5n2gOtdPUxXiWpr2sZG938AP2JQyS6AvfZzrL1mdtfAehepskc7zLQXArTbh6ztttlMeyJAD/OY5XumLiS6Va/X11xI1crDRMJ9StQgVdnim8qI7TbQI9BuT5uEJI0OO0nUNazsNgkddZKoe4iv2x1SZY9bmGnP+AekagyBhPb1s4paSXWAGraZgf5WUUu7LXVItLHpH/7lhlWVsCe4/9j1pNT2osMBEPA9oZYXferpZ5597vl4Ip5IxpOJZCIeTyQgSSSTyTgAS8QJV6xOJOJQnlTbiOZx9QnxNJ4vvPjSy6+82vxAz46feO311Mk3Tp0GzGgnXGfwAMzOYjrzJlZoVadbEA/NaqXN8lNvpd9+590zGU2q7L33z36Q+nAOMD83Pz/XRDotLs2C9AKWpKFFWrSaF39zC1gF50J6QXSgXk5+9PG5xU+0ZZsuffrZ8udfZLO5HJypHB653Ape1XsBLc1+CYUrmGmfmKSyKcxkAbmVr3Kpr785n9cICF06kT97vlAsFktwFpcxKRVLpeKyuMd8sQ2tTbFQKhS0EtGgVBCP4R0khXMXvr1Ybg5RePW7i9/n85U8oiKSRXFXWYRMXtT8AMmPi2odVlbU8kqzpA31mTM//Vw+rm3OhEZ/WV2tlsvlTKZaFke1Vq1hrlyt4oGoiUy1llGLMlACWWxWy2TwDorgDmuq0E91dSncmmmEMAqQZXGlDE44IrK4Q0ShSs1Blhqg3oZoNKpl8cqgOZMZaf/4J0DSzOkTXQNzmVWJGf8B1ppgNtHidtMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDItMTFUMTI6NTQ6MjcrMDA6MDBEoz/nAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTAyLTExVDEyOjU0OjI3KzAwOjAwNf6HWwAAAABJRU5ErkJggg=="}),(0,c.jsxs)("div",{className:"page-details",children:[(0,c.jsx)("p",{className:"bold-text",children:(0,s.tnH)(s.o7H)}),(0,c.jsx)("p",{className:"page-message",children:(0,s.tnH)(s.Z8S)}),(0,c.jsx)(a.ZP,{category:a.WD.secondary,className:"button-position",cypressSelector:"t--invalid-page-go-back",onClick:e.goBackFn?e.goBackFn:n.goBack,size:a.$u.large,tag:"button",text:"Go Back"})]})]})}},56244:function(e,n,t){var i,r=t(27853),o=t(84531),a=t(81020),s=t(18334),l=t(17186),c=(t(72791),t(86538)),u=t(763),d=t.n(u),p=t(14099),f=t(72462),h=t(41732),g=t(22871),m=t(73931),v=t(52628),x=t(23861),C=t(93512),A=t(23074),y=t(27966),Z=t(60309),b=t(35581),j=t(77239),T=t(75691),E=t(7526),w=t(80184),P=(0,c.ZP)(h.ZP)(i||(i=(0,l.Z)(["\n  padding: 10px 20px;\n  &&&& {\n    height: 32px;\n    max-width: 160px;\n    border: 1px solid ",";\n    width: auto;\n  }\n"])),Z.w.HIT_GRAY),I=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).getSanitizedData=function(){return e.normalizeValues()},e.renderDataSourceConfigForm=function(n){var t=e.props,i=t.datasource,r=t.datasourceButtonConfiguration,o=t.datasourceId,a=t.formData,s=t.hiddenHeader,l=t.pageId,c=t.pluginPackageName,u=location.search,p=!s&&new URLSearchParams(u).get("viewMode");return(0,w.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[!s&&(0,w.jsxs)(C.h4,{children:[(0,w.jsxs)(C.vU,{children:[(0,w.jsx)(C.cm,{alt:"Datasource",src:e.props.pluginImage}),(0,w.jsx)(f.Z,{focusOnMount:e.props.isNewDatasource})]}),p&&(0,w.jsx)(P,{category:h.WD.tertiary,className:"t--edit-datasource",onClick:function(){e.props.history.replace((0,E.AP)({pluginPackageName:c,datasourceId:o,params:{viewMode:!1}}))},text:"EDIT"})]}),p?(0,w.jsx)(y.Z,{}):(0,w.jsxs)(w.Fragment,{children:[d().isNil(n)?null:d().map(n,e.renderMainSection),""]}),i&&(0,w.jsx)(j.ZP,{datasource:i,datasourceButtonConfiguration:r,formData:a,getSanitizedFormData:d().memoize(e.getSanitizedData),isInvalid:e.validate(),pageId:l,shouldRender:!p})]})},e}return(0,o.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.formConfig;if(!e.pluginId)return(0,w.jsx)(T.Z,{});var t=this.renderDataSourceConfigForm(n);return this.renderForm(t)}}]),t}(C.nm);n.Z=(0,v.$j)((function(e,n){var t,i,r,o,a,s,l=n.datasourceId||(null===(t=n.match)||void 0===t||null===(i=t.params)||void 0===i?void 0:i.datasourceId),c=e.ui.datasourcePane,f=e.entities,h=f.datasources,m=f.plugins,v=(0,x.qO)(e,l),C=m.formConfigs,y=(0,g.Z)(p.Y4)(e),Z=d().get(v,"pluginId",""),j=C[Z],T={};return j&&(0,u.merge)(T,(0,A.AI)(j)),(0,u.merge)(T,v),{datasource:v,datasourceButtonConfiguration:(0,x.Ds)(e,null===y||void 0===y?void 0:y.pluginId),datasourceId:l,isSaving:h.loading,isDeleting:h.isDeleting,formData:y,formConfig:j,isNewDatasource:c.newDatasource===l,pageId:n.pageId||(null===(r=n.match)||void 0===r||null===(o=r.params)||void 0===o?void 0:o.pageId),pluginImage:(0,x.x8)(e)[Z],pluginPackageName:n.pluginPackageName||(null===(a=n.match)||void 0===a||null===(s=a.params)||void 0===s?void 0:s.pluginPackageName),initialValues:T,pluginId:Z,actions:e.entities.actions,formName:p.Y4,applicationId:(0,b.aS)(e)}}))((0,m.Z)({form:p.Y4,enableReinitialize:!0})(I))},91946:function(e,n,t){t.d(n,{Z:function(){return li}});var i,r=t(36222),o=t(17186),a=t(72791),s=t(7981),l=t(58286),c=t(52628),u=t(93856),d=t(28663),p=t(51165),f=t(75109),h=t(50678),g=t(46898),m=t(86538),v=t(40389),x=t(41732),C=t(85943),A=t(60309),y=t(13581),Z=t(18879),b=["title","titleId"];function j(){return j=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},j.apply(this,arguments)}function T(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function E(e,n){var t=e.title,r=e.titleId,o=T(e,b);return a.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32",ref:n,"aria-labelledby":r},o),t?a.createElement("title",{id:r},t):null,i||(i=a.createElement("path",{fill:"#858282",d:"M12.6666 7.9987C10.368 7.9987 8.16363 8.91179 6.53831 10.5371C4.91299 12.1624 3.9999 14.3668 3.9999 16.6654C3.9999 18.9639 4.91299 21.1683 6.53831 22.7936C8.16363 24.4189 10.368 25.332 12.6666 25.332H21.9999C22.8415 25.3312 23.6735 25.1534 24.4418 24.8101C25.2102 24.4667 25.8977 23.9656 26.4598 23.3393C27.0218 22.7129 27.4459 21.9753 27.7043 21.1744C27.9627 20.3735 28.0497 19.5272 27.9597 18.6904C27.8697 17.8537 27.6047 17.0452 27.1819 16.3176C26.7591 15.5899 26.1879 14.9594 25.5055 14.4668C24.8231 13.9743 24.0448 13.6309 23.221 13.4588C22.3972 13.2867 21.5464 13.2899 20.7239 13.468C20.083 11.8544 18.9723 10.4703 17.5357 9.49514C16.0992 8.51998 14.4029 7.99866 12.6666 7.9987ZM21.9999 27.9987H12.6666C10.6935 27.9982 8.75483 27.4827 7.04218 26.5031C5.32954 25.5234 3.9023 24.1137 2.90165 22.4132C1.90101 20.7128 1.36161 18.7806 1.33683 16.8077C1.31205 14.8348 1.80274 12.8897 2.76036 11.1646C3.71798 9.43961 5.10935 7.99444 6.79685 6.97211C8.48435 5.94978 10.4095 5.38571 12.3819 5.33568C14.3543 5.28565 16.3056 5.7514 18.0427 6.68686C19.7799 7.62233 21.2427 8.99509 22.2866 10.6694C24.5635 10.7383 26.7217 11.7008 28.2944 13.3488C29.867 14.9969 30.7276 17.1978 30.6899 19.4754C30.6522 21.7531 29.7193 23.9243 28.093 25.5194C26.4668 27.1145 24.2779 28.0051 21.9999 27.9987Z"})))}var w,P=a.forwardRef(E),I=(t.p,["title","titleId"]);function S(){return S=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},S.apply(this,arguments)}function O(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function k(e,n){var t=e.title,i=e.titleId,r=O(e,I);return a.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n,"aria-labelledby":i},r),t?a.createElement("title",{id:i},t):null,w||(w=a.createElement("path",{fill:"#858282",d:"M10.7826 7.33507L7.20663 3.75907L8.1493 2.81641L13.3346 8.00174L8.1493 13.1871L7.20663 12.2444L10.7826 8.66841H2.66797V7.33507H10.7826Z"})))}var N,D,R,_,G,L=a.forwardRef(k),H=(t.p,t(20972)),M=t(35581),U=t(47446),z=t(96387),V=t(72014),B=t(40641),F=t(7526),Y=t(80184),K=m.ZP.div(N||(N=(0,o.Z)(["\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  width: calc(100% - 30px);\n"]))),X=m.ZP.div(D||(D=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  padding-top: 2px;\n  cursor: pointer;\n\n  :hover {\n    text-decoration: underline;\n  }\n"]))),J=m.ZP.div(R||(R=(0,o.Z)(["\n  margin-left: 2px;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n\n  svg {\n    path {\n      fill: ",";\n    }\n  }\n"])),A.w.GREY_9),q=m.ZP.div(_||(_=(0,o.Z)(["\n  margin-left: ","px;\n"])),(function(e){return e.theme.spaces[6]})),W=m.ZP.div(G||(G=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));function Q(e){var n=(0,H.v9)(M.zj),t=(0,H.v9)(M.Ce),i=(0,H.v9)(M.AJ),r=i.applicationSlug,o=i.pageSlug,a=t?"".concat((0,g.tnH)(g.Ppg)," ").concat((0,V.dU)(t,{lessThanAMinute:!0})," ago"):"";return t?(0,Y.jsxs)(K,{className:"t--git-deploy-preview",children:[(0,Y.jsx)(W,{children:e.showSuccess?(0,Y.jsx)(z.Z,{height:"30px",width:"30px"}):(0,Y.jsx)(P,{})}),(0,Y.jsxs)(q,{children:[(0,Y.jsxs)(X,{onClick:function(){B.Z.logEvent("GS_LAST_DEPLOYED_PREVIEW_LINK_CLICK",{source:"GIT_DEPLOY_MODAL"});var e=(0,F.y6)({applicationSlug:r,pageSlug:o,pageId:n});window.open(e,"_blank")},children:[(0,Y.jsx)(U.ZP,{case:U.JZ.UPPERCASE,color:A.w.GREY_9,type:U.yG.P1,weight:"600",children:(0,g.tnH)(g.j6d)}),(0,Y.jsx)(J,{children:(0,Y.jsx)(L,{width:20})})]}),(0,Y.jsx)(U.ZP,{color:A.w.GREY_6,type:U.yG.P3,children:a})]})]}):null}var $,ee=t(33629),ne=y.ZP.div($||($=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  margin-top: ",";\n"])),(function(e){return"".concat(e.theme.spaces[3],"px")}));var te,ie,re,oe,ae,se=function(e){var n=e.loaderMsg;return(0,Y.jsxs)(ne,{children:[(0,Y.jsx)(ee.Z,{height:"50px",width:"50px"}),(0,Y.jsx)(U.ZP,{style:{marginLeft:8},type:U.yG.P3,children:n})]})},le=t(21914),ce=t(18489),ue=t(81209),de=t(92145),pe=y.ZP.div(te||(te=(0,o.Z)(["\n  width: 50%;\n  height: ","px;\n  background: linear-gradient(\n    90deg,\n    "," 0%,\n    rgba(240, 240, 240, 0) 100%\n  );\n  margin-top: ","px;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spaces[9]}),A.w.GREY_2,(function(e){return e.theme.spaces[7]}),(function(e){return e.theme.spaces[7]})),fe=y.ZP.div(ie||(ie=(0,o.Z)(["\n  height: ","px;\n  margin-bottom: ","px;\n  display: flex;\n\n  ."," {\n    margin-right: ","px;\n  }\n\n  ."," {\n    padding-top: ","px;\n  }\n"])),(function(e){return e.theme.spaces[9]}),(function(e){return e.theme.spaces[7]}),ue.PZ.ICON,(function(e){return e.theme.spaces[3]}),ue.PZ.TEXT,(function(e){return e.theme.spaces[1]-2})),he=y.ZP.div(re||(re=(0,o.Z)(["\n  margin-top: ","px;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spaces[7]}),(function(e){return e.theme.spaces[11]}));!function(e){e.COMMIT="COMMIT",e.DATA_SOURCE="DATA_SOURCE",e.JS_OBJECT="JS_OBJECT",e.PAGE="PAGE",e.QUERY="QUERY"}(ae||(ae={}));var ge=(oe={},(0,r.Z)(oe,ae.COMMIT,(function(e){return{message:me(e),iconName:"git-commit",hasValue:((null===e||void 0===e?void 0:e.aheadCount)||0)>0||((null===e||void 0===e?void 0:e.behindCount)||0)>0}})),(0,r.Z)(oe,ae.DATA_SOURCE,(function(e){return{message:"".concat((null===e||void 0===e?void 0:e.modifiedDatasources)||0," ").concat(null!==e&&void 0!==e&&e.modifiedDatasources?"datasource":"datasources"," modified"),iconName:"database-2-line",hasValue:((null===e||void 0===e?void 0:e.modifiedDatasources)||0)>0}})),(0,r.Z)(oe,ae.JS_OBJECT,(function(e){return{message:"".concat((null===e||void 0===e?void 0:e.modifiedJSObjects)||0," JS ").concat(((null===e||void 0===e?void 0:e.modifiedJSObjects)||0)<=1?"Object":"Objects"," modified"),iconName:"js",hasValue:((null===e||void 0===e?void 0:e.modifiedJSObjects)||0)>0}})),(0,r.Z)(oe,ae.PAGE,(function(e){return{message:"".concat((null===e||void 0===e?void 0:e.modifiedPages)||0," ").concat(((null===e||void 0===e?void 0:e.modifiedPages)||0)<=1?"page":"pages"," modified"),iconName:"widget",hasValue:((null===e||void 0===e?void 0:e.modifiedPages)||0)>0}})),(0,r.Z)(oe,ae.QUERY,(function(e){return{message:"".concat((null===e||void 0===e?void 0:e.modifiedQueries)||0," ").concat(((null===e||void 0===e?void 0:e.modifiedQueries)||0)<=1?"query":"queries"," modified"),iconName:"query",hasValue:((null===e||void 0===e?void 0:e.modifiedQueries)||0)>0}})),oe);function me(e){var n=(null===e||void 0===e?void 0:e.aheadCount)||0,t=(null===e||void 0===e?void 0:e.behindCount)||0;return[n>0?"".concat(n||0,1===(n||0)?" commit ahead":" commits ahead"):null,t>0?"".concat(t||0,1===(t||0)?" commit behind":" commits behind "):null].filter((function(e){return null!==e})).join(" and ")}function ve(e){var n=e.iconName,t=e.message;return(0,Y.jsxs)(fe,{children:[(0,Y.jsx)(de.ZP,{name:n,size:de.Jh.XXL}),(0,Y.jsx)(U.ZP,{type:U.yG.P3,children:t})]})}var xe={aheadCount:0,behindCount:0,conflicting:[],discardDocUrl:"",isClean:!1,modified:[],modifiedDatasources:0,modifiedJSObjects:0,modifiedPages:0,modifiedQueries:0,remoteBranch:""};function Ce(){var e=(0,c.v9)(l.vp),n=(0,c.v9)(l.ro),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe;return[ae.PAGE,ae.QUERY,ae.COMMIT,ae.JS_OBJECT,ae.DATA_SOURCE].map((function(n){return ge[n](e)})).filter((function(e){return e.hasValue})).map((function(e){return(0,a.createElement)(ve,(0,ce.Z)((0,ce.Z)({},e),{},{key:"change-status-".concat(e.iconName)}))})).filter((function(e){return!!e}))}(e);return n?(0,Y.jsx)(pe,{"data-testid":"t--git-change-loading-dummy"}):(0,Y.jsx)(he,{"data-testid":"t--git-change-statuses",children:t})}var Ae,ye,Ze,be,je,Te,Ee,we,Pe,Ie=t(26136),Se=t(93057),Oe=t(53325),ke=t(64033),Ne=t(71043),De=function(e,n){var t=(0,a.useState)(n||24),i=(0,h.Z)(t,2),r=i[0],o=i[1];return(0,a.useEffect)((function(){setTimeout((function(){var t=(e.match(/\n/g)||[]).length;o((n||24)+20*t)}))}),[e]),r},Re=t(42750),_e=t(20867),Ge=t(72310),Le=(0,m.ZP)(Ge.zx)(Ae||(Ae=(0,o.Z)(["\n  position: absolute;\n  top: 0;\n  right: 3px;\n  justify-content: center;\n  padding: 0;\n  color: ",";\n\n  & svg {\n    width: ",";\n    height: ",";\n\n    & path {\n      fill: ",";\n    }\n  }\n"])),(function(e){return e.color}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.color}));function He(e){return(0,Y.jsx)(Le,(0,ce.Z)((0,ce.Z)({className:e.className},e),{},{minimal:!0,rightIcon:"cross"}))}!function(e){e[e.error=0]="error",e[e.warning=1]="warning",e[e.enterprise=2]="enterprise",e[e.info=3]="info"}(Pe||(Pe={}));var Me,Ue=m.ZP.div(ye||(ye=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  padding: 8px;\n  position: relative;\n  max-width: 486px;\n  width: 100%;\n  min-height: 56px;\n\n  &.error {\n    background-color: ",";\n    color: ",";\n  }\n\n  &.enterprise {\n    background-color: ",";\n  }\n\n  &.warning {\n  }\n"])),A.w.ERROR_50,A.w.NOTIFICATION_BANNER_ERROR_TEXT,A.w.ENTERPRISE_LIGHT),ze=m.ZP.a(Ze||(Ze=(0,o.Z)(["\n  color: ",";\n  cursor: pointer;\n  font-weight: 500;\n  margin-left: 0;\n  display: flex;\n  flex: 1;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.color}),(function(e){return e.color})),Ve=(be={},(0,r.Z)(be,Pe.error,(function(e){return{icon:(0,Y.jsx)(de.ZP,{fillColor:A.w.ERROR_600,name:e||"danger",size:de.Jh.XXL}),closeButtonColor:A.w.ERROR_600,linkTextColor:A.w.ERROR_600}})),(0,r.Z)(be,Pe.info,(function(e){return{icon:(0,Y.jsx)(de.ZP,{fillColor:A.w.BLACK,name:e||"info",size:de.Jh.XXL}),closeButtonColor:A.w.GREY_900,linkTextColor:A.w.GREY_900}})),(0,r.Z)(be,Pe.warning,(function(e){return{icon:(0,Y.jsx)(de.ZP,{fillColor:A.w.BURNING_ORANGE,name:e||"warning-line",size:de.Jh.XXL}),closeButtonColor:A.w.WARNING_600,linkTextColor:A.w.WARNING_600}})),(0,r.Z)(be,Pe.enterprise,(function(e){return{icon:(0,Y.jsx)(de.ZP,{fillColor:A.w.CURIOUS_BLUE,name:e||"enterprise",size:de.Jh.XXL}),closeButtonColor:A.w.CURIOUS_BLUE,linkTextColor:A.w.ENTERPRISE_DARK}})),be),Be=m.ZP.div(je||(je=(0,o.Z)(["\n  width: calc(100% - 64px);\n"]))),Fe=m.ZP.div(Te||(Te=(0,o.Z)(["\n  display: flex;\n  justify-items: center;\n\n  & button {\n    color: ",";\n\n    &.notification-banner-close-button {\n      right: 0;\n    }\n\n    &.bp3-button.bp3-minimal:hover {\n      background-color: transparent;\n    }\n  }\n"])),(function(e){return e.color})),Ye=m.ZP.div(Ee||(Ee=(0,o.Z)(["\n  margin-right: 8px;\n  align-self: start;\n\n  & svg {\n    cursor: unset;\n\n    &:hover {\n      cursor: unset;\n    }\n  }\n"]))),Ke=m.ZP.div(we||(we=(0,o.Z)(["\n  margin-top: 8px;\n"])));function Xe(e){var n=null===e||void 0===e?void 0:e.variant,t=null===e||void 0===e?void 0:e.icon,i=(null===e||void 0===e?void 0:e.noLearnMoreArrow)||!1,r=Ve[n](t),o=r.closeButtonColor,a=r.icon,s=r.linkTextColor;return(0,Y.jsxs)(Ue,{className:e.className||"","data-testid":"t--notification-banner",style:e.style,children:[(null===e||void 0===e?void 0:e.icon)&&(0,Y.jsx)(Ye,{children:a}),(0,Y.jsxs)(Be,{children:[e.children,(null===e||void 0===e?void 0:e.learnMoreClickHandler)&&(0,Y.jsx)(Ke,{children:(0,Y.jsxs)(ze,{className:"t--notification-banner-learn-more",color:s,onClick:null===e||void 0===e?void 0:e.learnMoreClickHandler,children:[(0,g.tnH)(g.gPB),!i&&(0,Y.jsx)(de.ZP,{name:"right-arrow",size:de.Jh.XL})]})})]}),(0,Y.jsx)(Fe,{children:e.canClose&&(0,Y.jsx)(He,{className:"notification-banner-close-button",color:o,onClick:e.onClose,size:16})})]})}function Je(){return(0,Y.jsx)(U.ZP,{color:A.w.ERROR_600,type:U.yG.P3,children:(0,g.tnH)(g.sJA)})}var qe=m.ZP.div(Me||(Me=(0,o.Z)(["\n  margin: 8px 0 16px;\n"])));function We(e){var n=e.discardDocUrl,t=e.onCloseDiscardChangesWarning,i={canClose:!0,className:"error",icon:"warning-line",onClose:function(){return t()},variant:Pe.error,learnMoreClickHandler:function(){return window.open(n,"_blank")}};return(0,Y.jsx)(qe,{children:(0,Y.jsx)(Xe,(0,ce.Z)((0,ce.Z)({},i),{},{children:(0,Y.jsx)(Je,{})}))})}var Qe,$e,en,nn,tn,rn=t(37067),on=m.ZP.div(Qe||(Qe=(0,o.Z)(["\n  margin-top: ","px;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spaces[11]}),(function(e){return e.theme.spaces[11]})),an=m.ZP.div($e||($e=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n"]))),sn=m.ZP.div(en||(en=(0,o.Z)(["\n  ",";\n  color: ",";\n  display: inline-flex;\n\n  & .branch {\n    color: ",";\n    width: 240px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n"])),(function(e){return(0,y.z8)(e,"p1")}),A.w.CHARCOAL,A.w.CRUSTA),ln=m.ZP.div(nn||(nn=(0,o.Z)(["\n  width: 100%;\n\n  && "," span {\n    color: ",";\n  }\n\n  .bp3-popover-target {\n    width: fit-content;\n  }\n"])),C.hB,A.w.CHARCOAL);function cn(e){return(0,Y.jsx)("div",{onKeyDown:function(n){((0,V.V5)()?n.metaKey&&"Enter"===n.key:n.ctrlKey&&"Enter"===n.key)&&e.onSubmit()},children:e.children})}var un=m.ZP.div(tn||(tn=(0,o.Z)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  gap: ","px;\n\n  & a.discard-changes-link {\n  }\n"])),(function(e){return e.theme.spaces[7]}));var dn,pn=function(){var e=(0,c.v9)(M.Ce),n=(0,c.v9)(l.nj),t=(0,c.v9)(l.HI)||!1,i=(0,c.v9)(Z.N1),r=(0,c.v9)(l.vp),o=(0,c.v9)(l.ro),s=(0,c.v9)(l.U9),d=(0,c.v9)(l.sM),p=!(null!==r&&void 0!==r&&r.isClean),f=(0,c.v9)(l.Gj),C=(0,c.v9)(l.n5),y=(0,a.useRef)(null),b=(0,c.v9)(l.Jt),j=(0,c.v9)(l.Nh),T=(0,a.useState)(null!==i&&void 0!==i&&i.remoteUrl&&e?"":"Initial Commit"),E=(0,h.Z)(T,2),w=E[0],P=E[1],I=(0,a.useState)(!1),S=(0,h.Z)(I,2),O=S[0],k=S[1],N=(0,a.useState)(t),D=(0,h.Z)(N,2),R=D[0],_=D[1],G=(0,a.useState)(!1),L=(0,h.Z)(G,2),H=L[0],z=L[1],V=null===i||void 0===i?void 0:i.branchName,F=(0,c.I0)(),K=(0,c.v9)(M.kc),X=(0,rn.zL)(K),J=X.changeReasonText,q=X.isAutoUpdate,W=X.isManualUpdate,$=function(e){z(!1),B.Z.logEvent("GS_COMMIT_AND_PUSH_BUTTON_CLICK",{source:"GIT_DEPLOY_MODAL",isAutoUpdate:q,isManualUpdate:W}),V&&F((0,u.PY)({commitMessage:w,doPush:e}))},ee=(0,g.tnH)(g.OvK);(0,a.useEffect)((function(){return F((0,u.D1)()),function(){F((0,u.wM)())}}),[]);var ne=!p||!w,te=n,ie=!p||n||d||R,re=!(null===r||void 0===r||!r.modifiedPages)||!(null===r||void 0===r||!r.modifiedQueries)||!(null===r||void 0===r||!r.modifiedJSObjects)||!(null===r||void 0===r||!r.modifiedDatasources),oe=!o&&!!C,ae=(null===f||void 0===f?void 0:f.code)===Ne.Z.PUSH_FAILED_REMOTE_COUNTERPART_IS_AHEAD,ce=!oe&&!ae&&!o&&!n&&!R,ue=!!te&&(re||ce)&&!R,pe=!o&&!n&&p&&!R&&!ue,fe=p?w:"No changes to commit",he=(0,m.Fg)();(0,a.useEffect)((function(){!ie&&y.current&&y.current.focus()}),[ie]);var ge=(0,c.v9)(l.qz),me=De(fe,37);return(0,Y.jsxs)(ln,{"data-testid":"t--deploy-tab-container",children:[(0,Y.jsx)(Re.Dx,{children:(0,g.tnH)(g.kCM)}),(0,Y.jsxs)(on,{children:[p&&(0,Y.jsx)(U.ZP,{"data-testid":"t--git-deploy-change-reason-text",type:U.yG.P1,children:J}),(0,Y.jsx)(Ce,{}),(0,Y.jsx)(an,{children:(0,Y.jsxs)(sn,{children:[(0,Y.jsx)("span",{children:(0,g.tnH)(g.bwZ)}),(0,Y.jsxs)("div",{className:"branch",children:["\xa0",V]})]})}),(0,Y.jsx)(Re.T,{size:3}),(0,Y.jsx)(cn,{onSubmit:function(){ne||$(!0)},children:(0,Y.jsx)(v.ZP,{$padding:"8px 14px",autoFocus:!0,className:"t--commit-comment-input",disabled:ie,fill:!0,height:"".concat(Math.min(me,80),"px"),onChange:P,placeholder:"Your commit message here",ref:y,style:{resize:"none"},trimValue:!1,useTextArea:!0,value:fe})}),o&&(0,Y.jsx)(se,{loaderMsg:(0,g.tnH)(g.OxL)}),(0,Y.jsx)(Re.T,{size:11}),ae&&!oe&&(0,Y.jsxs)(Se.Z,{children:[(0,Y.jsx)(de.ZP,{fillColor:A.w.YELLOW_LIGHT,name:"info",size:de.Jh.XXXL}),(0,Y.jsxs)("div",{style:{display:"block"},children:[(0,Y.jsx)(U.ZP,{style:{marginRight:he.spaces[2]},type:U.yG.P3,children:(0,g.tnH)(g.l04)}),(0,Y.jsx)(Oe.Z,{link:b,onClick:function(){B.Z.logEvent("GS_GIT_DOCUMENTATION_LINK_CLICK",{source:"UPSTREAM_CHANGES_LINK_ON_GIT_DEPLOY_MODAL"}),window.open(b,"_blank")},text:(0,g.tnH)(g.Dw2)})]})]}),(0,Y.jsxs)(un,{children:[ae&&!oe&&(0,Y.jsx)(x.ZP,{className:"t--pull-button",isLoading:s,onClick:function(){B.Z.logEvent("GS_PULL_GIT_CLICK",{source:"GIT_DEPLOY_MODAL"}),V&&F((0,u.bp)())},size:x.$u.large,tag:"button",text:(0,g.tnH)(g._Ps),width:"max-content"}),oe&&(0,Y.jsx)(ke.Z,{browserSupportedRemoteUrl:(null===i||void 0===i?void 0:i.browserSupportedRemoteUrl)||"",learnMoreLink:ge}),ce&&(0,Y.jsx)(Ie.K,{content:(0,g.tnH)(g.VI_),disabled:ce&&!te,donotUsePortal:!0,position:"top",children:(0,Y.jsx)(x.ZP,{className:"t--commit-button",disabled:ne,isLoading:te,onClick:function(){return $(!0)},size:x.$u.large,tag:"button",text:ee,width:"max-content"})}),pe&&(0,Y.jsx)(x.ZP,{category:x.WD.secondary,className:"t--discard-button discard-changes-link",disabled:!pe,isLoading:s||o||n,onClick:function(){return O?(B.Z.logEvent("GIT_DISCARD",{source:"GIT_DISCARD_BUTTON_PRESS_2"}),F((0,u.wq)()),z(!1),k(!0),void _(!0)):(B.Z.logEvent("GIT_DISCARD_WARNING",{source:"GIT_DISCARD_BUTTON_PRESS_1"}),z(!0),void k(!0))},size:x.$u.large,text:H?(0,g.tnH)(g.iZ_):(0,g.tnH)(g.iBv),variant:_e.$e.danger})]}),ue&&!R&&(0,Y.jsx)(le.W,{children:(0,Y.jsx)(le.Z,{completed:!te,message:(0,g.tnH)(g.QxP),period:6})}),R&&!ue&&(0,Y.jsx)(le.W,{children:(0,Y.jsx)(le.Z,{completed:!R,message:(0,g.tnH)(g.pAM),period:6})})]}),H&&(0,Y.jsx)(We,{discardDocUrl:j,onCloseDiscardChangesWarning:function(){B.Z.logEvent("GIT_DISCARD_CANCEL",{source:"GIT_DISCARD_WARNING_BANNER_CLOSE_CLICK"}),z(!1),k(!1)}}),!ae&&!oe&&(0,Y.jsx)(Q,{showSuccess:d})]})},fn=t(19068),hn=["title","titleId"];function gn(){return gn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},gn.apply(this,arguments)}function mn(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function vn(e,n){var t=e.title,i=e.titleId,r=mn(e,hn);return a.createElement("svg",gn({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n,"aria-labelledby":i},r),t?a.createElement("title",{id:i},t):null,dn||(dn=a.createElement("path",{fill:"#A9A7A7",d:"M3.828 7.00066H16V9.00066H3.828L9.192 14.3647L7.778 15.7787L0 8.00066L7.778 0.222656L9.192 1.63666L3.828 7.00066Z"})))}var xn,Cn,An=a.forwardRef(vn),yn=(t.p,y.ZP.div(xn||(xn=(0,o.Z)(["\n  display: flex;\n\n  & "," {\n    align-self: center;\n  }\n"])),_e.PZ.TEXT)),Zn="FETCHING",bn="MERGEABLE",jn="NOT_MERGEABLE",Tn="NONE",En="ERROR",wn=y.ZP.div(Cn||(Cn=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  margin-top: ",";\n"])),(function(e){return"".concat(e.theme.spaces[3],"px")}));var Pn,In,Sn,On,kn,Nn,Dn=function(e){var n=e.message,t=void 0===n?"":n;switch(e.status){case Zn:return(0,Y.jsx)(yn,{children:(0,Y.jsx)(se,{loaderMsg:t})});case bn:return(0,Y.jsx)(yn,{children:(0,Y.jsx)(wn,{children:(0,Y.jsx)(U.ZP,{color:A.w.GREEN,type:U.yG.P3,weight:"600",children:t})})});case jn:case En:return(0,Y.jsx)(yn,{children:(0,Y.jsx)(wn,{children:(0,Y.jsx)(U.ZP,{color:A.w.CRIMSON,type:U.yG.P3,weight:"600",children:t})})});default:return null}},Rn=m.ZP.div(Pn||(Pn=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n"]))),_n="--Select--",Gn="350px";function Ln(){var e=(0,m.Fg)();return(0,Y.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Y.jsx)(z.Z,{height:"36px",style:{marginBottom:0},width:"30px"}),(0,Y.jsx)(U.ZP,{case:U.JZ.UPPERCASE,color:A.w.GREY_9,style:{marginLeft:e.spaces[2]},type:U.yG.P1,weight:"600",children:(0,g.tnH)(g.jEE)})]})}var Hn=m.ZP.div(In||(In=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n"]))),Mn=m.ZP.div(Sn||(Sn=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: ","px;\n\n  & > div {\n    ","\n    input {\n      ","\n    }\n  }\n"])),(function(e){return e.theme.spaces[e.isValid?7:12]}),(function(e){return e.isValid?"":"border: 1px solid ".concat(A.w.ERROR_RED,";")}),(function(e){return e.isValid?"":"color: ".concat(A.w.ERROR_RED,";")})),Un=m.ZP.div(On||(On=(0,o.Z)(["\n  width: calc(100% - 30px);\n"]))),zn=m.ZP.div(kn||(kn=(0,o.Z)(["\n  display: flex;\n  align-items: flex-start;\n  margin-top: ","px;\n"])),(function(e){return e.theme.spaces[3]})),Vn=m.ZP.span(Nn||(Nn=(0,o.Z)(["\n  ",";\n  text-transform: uppercase;\n  color: ",";\n"])),(function(e){return(0,y.z8)(e,"u1")}),A.w.GRAY_900),Bn="authorEmail",Fn="authorName";var Yn,Kn,Xn,Jn,qn,Wn,Qn,$n,et,nt=function(e){var n=e.authorInfo,t=e.setAuthorInfo,i=e.toggleUseDefaultConfig,r=e.triedSubmit,o=e.useGlobalConfig,s=(0,a.useState)(!1),u=(0,h.Z)(s,2),d=u[0],p=u[1],f=(0,a.useState)(!1),m=(0,h.Z)(f,2),x=m[0],A=m[1],y=(0,c.v9)(l.KJ),Z=(0,c.v9)(l.PW),b=(0,a.useCallback)((function(e,i){return function(e){var n=e.authorInfo,t=e.label,i=e.setAuthorInfo,r=e.value;switch(t){case Fn:i({authorEmail:n.authorEmail,authorName:r});break;case Bn:i({authorEmail:r,authorName:n.authorName})}}({label:e,value:i,authorInfo:n,setAuthorInfo:t})}),[n,t]),j=o,T=(0,a.useMemo)((function(){return n.authorEmail&&(0,v.Le)(n.authorEmail).isValid}),[n.authorEmail]),E=y||Z,w=!E,P=!E&&!o&&!n.authorName&&!x&&r,I=!E&&!o&&!T&&!d&&r;return(0,Y.jsxs)(Un,{children:[(0,Y.jsx)(Vn,{className:"label",children:(0,g.tnH)(g.MBp)}),w?(0,Y.jsx)(zn,{children:(0,Y.jsx)(C.ZP,{cypressSelector:"t--use-global-config-checkbox",fill:!1,isDefaultChecked:o,label:(0,g.tnH)(g.dz1),onCheckChange:i})}):null,(0,Y.jsx)(Re.T,{size:7}),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Hn,{children:(0,Y.jsx)("span",{className:"label",children:(0,g.tnH)(g.x1o)})}),(0,Y.jsx)(Mn,{isValid:!P,children:(0,Y.jsx)(v.ZP,{className:"t--git-config-name-input",dataType:"text",disabled:j,errorMsg:P?(0,g.tnH)(g.VGP):"",fill:!0,isLoading:E,onBlur:function(){return A(!1)},onChange:function(e){return b(Fn,e)},onFocus:function(){return A(!0)},trimValue:!1,value:n.authorName})}),(0,Y.jsx)(Hn,{children:(0,Y.jsx)("span",{className:"label",children:(0,g.tnH)(g.oAT)})}),(0,Y.jsx)(Mn,{isValid:!I,children:(0,Y.jsx)(v.ZP,{className:"t--git-config-email-input",dataType:"email",disabled:j,errorMsg:I?(0,g.tnH)(g.VQg):"",fill:!0,isLoading:E,onBlur:function(){return p(!1)},onChange:function(e){return b(Bn,e)},onFocus:function(){return p(!0)},value:n.authorEmail})})]})]})},tt=t(76998),it=t.n(tt),rt=t(763),ot=t(37799),at=t(31692),st=t.n(at),lt=t(30053),ct=t(32183),ut=t(85719),dt=t(68324),pt=t(80305),ft=m.ZP.div(Yn||(Yn=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),ht=m.ZP.div(Kn||(Kn=(0,o.Z)(["\n  margin-top: ",";\n  margin-bottom: 8px;\n  height: 35px;\n  width: calc(100% - 30px);\n  border: 1px solid ",";\n  padding: ",";\n  box-sizing: border-box;\n"])),(function(e){return"".concat(e.theme.spaces[e.$marginTop],"px")}),A.w.ALTO_3,(function(e){return"".concat(e.theme.spaces[3],"px ").concat(e.theme.spaces[4],"px")})),gt=m.ZP.div(Xn||(Xn=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n"]))),mt=m.ZP.span(Jn||(Jn=(0,o.Z)(["\n  width: 30%;\n  font-size: 10px;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: var(--appsmith-color-black-900);\n"]))),vt=m.ZP.span(qn||(qn=(0,o.Z)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  width: 60%;\n  font-size: 10px;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: var(--appsmith-color-black-900);\n  direction: rtl;\n  margin-right: 8px;\n"]))),xt=m.ZP.div(Wn||(Wn=(0,o.Z)(["\n  padding: 8px;\n  align-items: center;\n  position: absolute;\n  right: -6px;\n  top: 8px;\n"]))),Ct=m.ZP.div(Qn||(Qn=(0,o.Z)(["\n  width: 22px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),At=m.ZP.div($n||($n=(0,o.Z)(["\n  padding: 16px 12px;\n"]))),yt=m.ZP.div(et||(et=(0,o.Z)(["\n  max-width: calc(100% - 30px);\n"])));function Zt(e,n){return e?(0,Y.jsx)(de.ZP,{fillColor:A.w.GREEN,hoverFillColor:A.w.GREEN,name:"check-line",size:de.Jh.XXXL}):(0,Y.jsx)(ft,{children:(0,Y.jsx)(Ie.K,{content:(0,g.tnH)(g.uZY),children:(0,Y.jsx)(de.ZP,{className:"t--copy-ssh-key",fillColor:A.w.DARK_GRAY,hoverFillColor:A.w.GRAY2,name:"duplicate",onClick:n,size:de.Jh.XXXL})})})}var bt,jt=function(e){var n=e.copyToClipboard,t=e.deployKeyDocUrl,i=e.showCopied,r=e.SSHKeyPair,o=(0,pt.Y)().generateSSHKey,s=(0,a.useState)(!1),l=(0,h.Z)(s,2),c=l[0],u=l[1],d=(0,a.useState)(!1),p=(0,h.Z)(d,2),f=p[0],m=p[1],v=(0,a.useState)(!0),C=(0,h.Z)(v,2),y=C[0],Z=C[1],b=r.split(" "),j=(0,h.Z)(b,3),T=j[0],E=j[1],w=j[2],P="".concat(E," ").concat(w),I=(0,a.useCallback)((function(){B.Z.logEvent("GS_REGENERATE_SSH_KEY_CONFIRM_CLICK"),o(),m(!1),u(!1),Z(!0),dt.x7.show({text:(0,g.tnH)(g.hFt),variant:ue.$e.success})}),[]);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Re.T,{size:7}),(0,Y.jsx)(U.ZP,{color:A.w.GREY_9,type:U.yG.P1,children:(0,g.tnH)(g.UDi)}),(0,Y.jsxs)(gt,{style:{position:"relative"},children:[(0,Y.jsx)(ht,{$marginTop:4,children:(0,Y.jsxs)(gt,{children:[(0,Y.jsx)(st(),{color:A.w.DOVE_GRAY2,size:20,style:{marginTop:-1,marginRight:4}}),(0,Y.jsx)(mt,{children:T}),(0,Y.jsx)(vt,{children:P}),Zt(i,n)]})}),(0,Y.jsx)(xt,{children:(0,Y.jsxs)(lt.Z,{className:"more",onClosing:function(){u(!1),m(!1)},onOpening:function(){m(!1)},position:ct.Ly.BOTTOM,target:(0,Y.jsx)(Ct,{children:(0,Y.jsx)(de.ZP,{fillColor:A.w.DARK_GRAY,hoverFillColor:A.w.GRAY_900,name:"more-2-fill",onClick:function(){B.Z.logEvent("GS_REGENERATE_SSH_KEY_MORE_CLICK"),m(!1),u(!c)},size:de.Jh.XXXXL})}),children:[c&&!f&&(0,Y.jsx)(ut.Z,{cypressSelector:"t--regenerate-sshkey",onSelect:function(){return m(!0)},text:(0,g.tnH)(g.sNX)}),c&&f&&(0,Y.jsxs)(At,{children:[(0,Y.jsx)(U.ZP,{type:U.yG.P3,children:(0,g.tnH)(g.xOG)}),(0,Y.jsxs)(gt,{style:{marginTop:16.5,justifyContent:"space-between"},children:[(0,Y.jsx)(U.ZP,{type:U.yG.P1,children:(0,g.tnH)(g.Y5Q)}),(0,Y.jsx)(x.ZP,{category:x.WD.primary,onClick:I,size:x.$u.xs,text:(0,g.tnH)(g.gTx)})]})]})]})})]}),y&&(0,Y.jsx)(yt,{children:(0,Y.jsx)(Xe,{canClose:!0,className:"enterprise",learnMoreClickHandler:function(){B.Z.logEvent("GS_GIT_DOCUMENTATION_LINK_CLICK",{source:"SSH_KEY_ON_GIT_CONNECTION_TAB"}),window.open(t,"_blank")},onClose:function(){return Z(!1)},variant:Pe.enterprise,children:(0,Y.jsx)("div",{children:(0,Y.jsx)(U.ZP,{color:A.w.GREY_9,type:U.yG.P3,children:(0,g.tnH)(g.tls)})})})})]})},Tt=y.ZP.div(bt||(bt=(0,o.Z)(["\n  margin-top: 16px;\n  max-width: calc(100% - 30px);\n"])));function Et(e){var n=e.onClose,t=e.onDisplay,i=(0,H.v9)(l.Sk),r=(0,H.v9)(l.Kj),o=null!==i&&void 0!==i&&i.errorType?i.errorType.replaceAll("_"," "):"";(0,a.useEffect)((function(){i&&t&&t()}),[i]);var s={canClose:!0,className:"error",icon:"warning-line",learnMoreClickHandler:function(){return window.open(r,"_blank")},onClose:n,variant:Pe.error};return i?(0,Y.jsx)(Tt,{className:"t--git-connection-error",children:(0,Y.jsxs)(Xe,(0,ce.Z)((0,ce.Z)({},s),{},{children:[(0,Y.jsx)("div",{style:{marginBottom:"8px"},children:o}),(0,Y.jsx)("div",{style:{marginBottom:"8px"},children:null===i||void 0===i?void 0:i.message})]}))}):null}var wt,Pt,It,St,Ot,kt,Nt,Dt,Rt,_t=t(10689),Gt=m.ZP.div(wt||(wt=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n\n  & .primary {\n  }\n\n  margin-bottom: ",";\n  margin-top: ",";\n"])),(function(e){return"".concat(e.theme.spaces[3],"px")}),(function(e){return"".concat(e.theme.spaces[11],"px")})),Lt=m.ZP.div(Pt||(Pt=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n"]))),Ht=m.ZP.div(It||(It=(0,o.Z)(["\n  width: calc(100% - 30px);\n  margin-right: 8px;\n  position: relative;\n"]))),Mt=m.ZP.div(St||(St=(0,o.Z)(["\n  margin-top: ",";\n"])),(function(e){return"".concat(e.theme.spaces[e.topMargin],"px")})),Ut=m.ZP.div(Ot||(Ot=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  scrollbar-width: none;\n\n  &::-webkit-scrollbar-thumb {\n    background-color: transparent;\n  }\n\n  &::-webkit-scrollbar {\n    width: 0px;\n  }\n"]))),zt=m.ZP.div(kt||(kt=(0,o.Z)(["\n  margin-bottom: ","px;\n  display: flex;\n"])),(function(e){return e.theme.spaces[3]})),Vt=m.ZP.div(Nt||(Nt=(0,o.Z)([""]))),Bt=m.ZP.div(Dt||(Dt=(0,o.Z)(["\n  position: static;\n  top: 0px;\n  height: fit-content;\n  z-index: 9999;\n  background: white;\n  margin-right: 10px;\n"]))),Ft=m.ZP.div(Rt||(Rt=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  right: -30px;\n  top: 8px;\n"]))),Yt=f.rY[0];var Kt,Xt,Jt,qt,Wt,Qt=function(e){var n=e.isImport,t=(0,g.tnH)(g.vyc),i=(0,c.I0)(),r=(0,c.v9)(l.Q$),o=(0,c.v9)(l.H$),s=(0,c.v9)(l.vH),d=((0,c.v9)(l.ad)||{}).tempRemoteUrl,p=void 0===d?"":d,f=(0,c.v9)(Z.kc),m=(0,c.v9)(l.KJ),C=(0,c.v9)(l.PW),y=((0,c.v9)(Z.N1)||{}).remoteUrl,b=void 0===y?"":y,j=(0,c.v9)(l.KM),T=(0,c.v9)(l.v1),E=(0,c.v9)(l.Sk),w=(0,_t.Yx)(),P=w.deployKeyDocUrl,I=w.fetchingSSHKeyPair,S=w.fetchSSHKeyPair,O=w.generateSSHKey,k=w.generatingSSHKey,N=w.SSHKeyPair,D=(0,_t.QO)(),R=D.connectToGit,_=D.isConnectingToGit,G=(0,a.useState)(b||p),L=(0,h.Z)(G,2),H=L[0],M=L[1],z=!!b,V=(0,a.useState)({authorName:"",authorEmail:""}),F=(0,h.Z)(V,2),K=F[0],X=F[1],J=(0,a.useState)(!1),q=(0,h.Z)(J,2),W=q[0],Q=q[1],$=(0,a.useState)(!1),ee=(0,h.Z)($,2),ne=ee[0],te=ee[1],ie=(0,a.useState)(!1),re=(0,h.Z)(ie,2),oe=re[0],ae=re[1],se=(0,a.useState)(!1),ue=(0,h.Z)(se,2),pe=ue[0],fe=ue[1],he=(0,a.useRef)(0);(0,a.useEffect)((function(){return function(){he.current&&clearTimeout(he.current)}}),[]),(0,a.useEffect)((function(){b||M(p||"")}),[b]),(0,a.useEffect)((function(){Q(!!(!z||r))}),[r,z]),(0,a.useEffect)((function(){X(s)}),[s,W]),(0,a.useEffect)((function(){i((0,u.c4)()),i((0,u.tu)())}),[]),(0,a.useEffect)((function(){N||n||S()}),[N,n]);var ge=(0,a.useCallback)((function(){return!(0,rt.isEqual)(null===s||void 0===s?void 0:s.authorEmail,K.authorEmail)||!(0,rt.isEqual)(null===s||void 0===s?void 0:s.authorName,K.authorName)}),[K.authorEmail,K.authorName,s]),me=W!==!!r,ve=(0,a.useMemo)((function(){var e=ge(),n=!1;z?n=!e&&!me||(m||C):n=oe;return n}),[ge,z,m,C,oe,me]),xe=_,Ce=(0,a.useMemo)((function(){return W||K.authorName&&K.authorEmail&&(0,v.Le)(K.authorEmail).isValid}),[W,K.authorName,K.authorEmail]),Ae=(0,a.useCallback)((function(){if(!_&&!ve&&(te(!0),B.Z.logEvent("GS_CONNECT_BUTTON_ON_GIT_SYNC_MODAL_CLICK"),Ce))if(z){var e=W?s:K;i((0,u.SO)((0,ce.Z)((0,ce.Z)({},e),{},{useGlobalProfile:W})))}else n?i((0,u.QN)({payload:{remoteUrl:H,gitProfile:K,isDefaultProfile:W}})):R({remoteUrl:H,gitProfile:K,isDefaultProfile:W})}),[u.SO,ge,R,W,H]),ye=(0,a.useCallback)((function(){Q(!W),B.Z.logEvent("GS_DEFAULT_CONFIGURATION_CHECKBOX_TOGGLED",{value:!W})}),[Q,W]),Ze=a.createRef();(0,a.useEffect)((function(){E&&Ze.current&&setTimeout((function(){var e,n,t=(null===(e=Ze.current)||void 0===e?void 0:e.scrollHeight)||0;null===(n=Ze.current)||void 0===n||n.scrollTo({top:t})}),100)}),[Ze,E]);var be=(0,a.useCallback)((function(){B.Z.logEvent("GS_DISCONNECT_GIT_CLICK",{source:"GIT_CONNECTION_MODAL"}),i((0,u.mr)({isOpen:!1})),i((0,u.Nl)({id:(null===f||void 0===f?void 0:f.id)||"",name:(null===f||void 0===f?void 0:f.name)||""})),i((0,u.HZ)(!0))}),[]);return(0,a.useEffect)((function(){return function(){i((0,u.sA)({tempRemoteUrl:""})),i((0,u.eV)())}}),[]),(0,Y.jsxs)(Ut,{"data-test":"t--git-connection-container",ref:Ze,children:[(0,Y.jsxs)(Vt,{children:[(0,Y.jsx)(Bt,{children:(0,Y.jsxs)(Re.Dx,{children:[(0,g.tnH)(n?g.kyC:g.dGT),(0,Y.jsx)(Re.QE,{children:(0,g.tnH)(g.HCi)})]})}),(0,Y.jsx)(Gt,{"data-test":"t--remote-url-container",children:(0,Y.jsx)(U.ZP,{color:A.w.GREY_9,type:U.yG.P1,children:(0,g.tnH)(g.EDK)})}),N?null:(0,Y.jsxs)(zt,{children:[(0,Y.jsx)(U.ZP,{color:A.w.GREY_9,type:U.yG.P3,children:(0,g.tnH)(n?g.OU4:g.Q_t)}),(0,Y.jsx)(Re.T,{horizontal:!0,size:1}),(0,Y.jsx)(Oe.Z,{className:"t--learn-more-ssh-url",color:A.w.PRIMARY_ORANGE,hasIcon:!1,link:j||"",onClick:function(){B.Z.logEvent("GS_GIT_DOCUMENTATION_LINK_CLICK",{source:"REMOTE_URL_ON_GIT_CONNECTION_MODAL"}),window.open(j,"_blank")},text:(0,g.tnH)(g.gPB)})]}),(0,Y.jsx)(Lt,{children:(0,Y.jsxs)(Ht,{children:[(0,Y.jsx)(v.ZP,{className:"t--git-repo-input",disabled:H===b&&!!H,errorMsg:oe?(0,g.tnH)(g.Eg7):"",fill:!0,onChange:function(e){var n=!(0,rn.zT)(e);ae(n),M(e),i((0,u.sA)({tempRemoteUrl:e})),B.Z.logEvent("GS_REPO_URL_EDIT",{repoUrl:e})},placeholder:t,value:H}),z&&(0,Y.jsx)(Ft,{children:(0,Y.jsx)(Ie.K,{content:"Disconnect Git",children:(0,Y.jsx)(de.ZP,{className:"t--git-disconnect-icon",fillColor:A.w.DARK_GRAY,hoverFillColor:A.w.ERROR_RED,name:"delete",onClick:be,size:de.Jh.XXXXL})})})]})}),N?(0,Y.jsx)(jt,{SSHKeyPair:N||"",copyToClipboard:function(){N&&(it()(N),fe(!0),he.current=setTimeout((function(){fe(!1)}),2e3)),B.Z.logEvent("GS_COPY_SSH_KEY_BUTTON_CLICK")},deployKeyDocUrl:P,showCopied:pe}):H&&!oe&&(0,Y.jsx)(Mt,{topMargin:7,children:(0,Y.jsx)(x.ZP,{category:x.WD.primary,className:"t--generate-deploy-key-button t--submit-repo-url-button",disabled:!H||oe,isLoading:k||I,onClick:function(){O(),B.Z.logEvent("GS_GENERATE_KEY_BUTTON_CLICK")},size:x.$u.large,tag:"button",text:(0,g.tnH)(g.K09)})})]}),N&&H?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Re.T,{size:7}),(0,Y.jsx)(nt,{authType:Yt.label||"",authorInfo:W?o:K,setAuthorInfo:X,toggleUseDefaultConfig:ye,triedSubmit:ne,useGlobalConfig:W}),(0,Y.jsxs)(Mt,{topMargin:3,children:[(_||T)&&(0,Y.jsx)(le.W,{className:"t--connect-statusbar",children:(0,Y.jsx)(le.Z,{completed:!xe&&!T,message:(0,g.tnH)(n?g.e15:g.Gaw),period:4})}),!(_||T)&&(0,Y.jsx)(x.ZP,{category:x.WD.primary,className:"t--connect-submit-btn",disabled:ve,isLoading:xe,onClick:Ae,size:x.$u.large,tag:"button",text:n?(0,g.tnH)(g.MhF):z?(0,g.tnH)(g.BSV):(0,g.tnH)(g.zuz)}),!(_||T)&&(0,Y.jsx)(Et,{onClose:function(){M("")}})]})]}):null,(0,Y.jsx)(ot.Z,{containerRef:Ze,mode:"DARK",top:"37px"})]})},$t=t(54347),ei=t(85697),ni=m.ZP.div(Kt||(Kt=(0,o.Z)(["\n  height: 600px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n"]))),ti=m.ZP.div(Xt||(Xt=(0,o.Z)(["\n  flex: 3;\n  height: calc(100% - ","px);\n"])),f.d0),ii=m.ZP.div(Jt||(Jt=(0,o.Z)(["\n  height: ","px;\n"])),f.d0),ri=m.ZP.div(qt||(qt=(0,o.Z)(["\n  position: absolute;\n  right: -5px;\n  top: 0;\n  padding: ","px 0;\n  border-radius: ","px;\n\n  &:hover {\n    svg,\n    svg path {\n      fill: ",";\n    }\n  }\n"])),(function(e){return e.theme.spaces[1]}),(function(e){return e.theme.radii[1]}),(function(e){var n=e.theme;return(0,rt.get)(n,"colors.gitSyncModal.closeIconHover")})),oi=(Wt={},(0,r.Z)(Wt,f.UR.GIT_CONNECTION,Qt),(0,r.Z)(Wt,f.UR.DEPLOY,pn),(0,r.Z)(Wt,f.UR.MERGE,(function(){var e,n=(0,c.I0)(),t=(0,c.v9)(Z.N1),i=(0,c.v9)(l.Ns),r=(0,c.v9)(l.JS),o=(0,c.v9)(l.oF),s=(0,c.v9)(l.LX),d=(0,c.v9)(l.vp),p=(0,c.v9)(l.eK),m=(null===s||void 0===s?void 0:s.isMergeAble)&&(null===d||void 0===d?void 0:d.isClean),v=(0,c.v9)(l.ro),C=null!==d&&void 0!==d&&d.isClean?null===s||void 0===s?void 0:s.message:(0,g.tnH)(g.U6m),A=null===t||void 0===t?void 0:t.branchName,y=(0,c.v9)(l.x1),b=(0,a.useState)(!1),j=(0,h.Z)(b,2),T=j[0],E=j[1],w=(0,a.useState)({label:_n,value:_n}),P=(0,h.Z)(w,2),I=P[0],S=P[1],O=(0,a.useMemo)((function(){for(var e=[],n=0;n!==i.length;){var t=i[n];A!==t.branchName&&(t.default?e.unshift({label:t.branchName,value:t.branchName}):e.push({label:t.branchName,value:t.branchName}));var r=i[n+1];if((0,rn.pj)(t.branchName,null===r||void 0===r?void 0:r.branchName))break;n++}return e.unshift({label:"Local branches",isSectionHeader:!0}),e}),[i]),k={label:A||"",value:A||""},N=function(){E(!0)},D=(0,a.useCallback)((function(){B.Z.logEvent("GS_MERGE_CHANGES_BUTTON_CLICK",{source:"GIT_MERGE_MODAL"}),A&&I.value&&n((0,u.k6)({payload:{sourceBranch:A,destinationBranch:I.value},onSuccessCallback:N}))}),[A,I.value,n]);(0,a.useEffect)((function(){return n((0,u.D1)()),n((0,u.$B)()),function(){n((0,u.B_)())}}),[]),(0,a.useEffect)((function(){I.value!==_n&&A&&I.value&&(n((0,u.QC)({sourceBranch:A,destinationBranch:I.value})),E(!1))}),[A,I.value,n]);var R=_n===I.value||o||!m,_=Tn;v?(_=Zn,C=(0,g.tnH)(g.OxL)):null!==d&&void 0!==d&&d.isClean?o?(_=Zn,C=(0,g.tnH)(g.Nun)):s&&null!==s&&void 0!==s&&s.isMergeAble?_=bn:!s||null!==s&&void 0!==s&&s.isMergeAble?p&&(_=En,C=p.error.message):_=jn:_=jn;var G=((null===s||void 0===s||null===(e=s.conflictingFiles)||void 0===e?void 0:e.length)||0)>0,L=!G&&!p&&!v&&!y,H=(0,c.v9)(l.eX);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Re.Dx,{children:(0,g.tnH)(g.BFX)}),(0,Y.jsx)(Re.YS,{children:(0,g.tnH)(g.fGV)}),(0,Y.jsx)(Re.T,{size:4}),(0,Y.jsxs)(Rn,{children:[(0,Y.jsx)(fn.ZP,{className:f.PZ.MERGE_DROPDOWN,containerClassName:"t--merge-branch-dropdown-destination",disabled:r||o||y,dropdownMaxHeight:Gn,enableSearch:!0,fillOptions:!0,hasError:_===jn,isLoading:r,onSelect:function(e){e&&S({label:e,value:e})},options:O,selected:I,showLabelOnly:!0,truncateOption:!0,width:"220px"}),(0,Y.jsx)(Re.T,{horizontal:!0,size:3}),(0,Y.jsx)(An,{}),(0,Y.jsx)(Re.T,{horizontal:!0,size:3}),(0,Y.jsx)(fn.ZP,{className:"textInput",disabled:!0,dropdownMaxHeight:Gn,onSelect:function(){return null},options:[k],selected:k,truncateOption:!0,width:"220px"})]}),(0,Y.jsx)(Dn,{message:C,status:_}),(0,Y.jsx)(Re.T,{size:10}),G&&(0,Y.jsx)(ke.Z,{browserSupportedRemoteUrl:(null===t||void 0===t?void 0:t.browserSupportedRemoteUrl)||"",learnMoreLink:H}),T?(0,Y.jsx)(Ln,{}):L&&(0,Y.jsx)(x.ZP,{className:"t--git-merge-button",disabled:R,isLoading:y,onClick:D,size:x.$u.large,tag:"button",text:(0,g.tnH)(g.BFX),width:"max-content"}),y&&(0,Y.jsx)(le.W,{children:(0,Y.jsx)(le.Z,{completed:!y,message:(0,g.tnH)(g.c8v),period:6})})]})})),Wt),ai=Object.values(f.AF),si=Object.values(ei.z).filter((function(e){return"string"===typeof e})).map((function(e){return e}));var li=function(e){var n=(0,m.Fg)(),t=(0,c.I0)(),i=(0,c.v9)(l.QY),r=(0,c.v9)(l.X2),o=(0,c.v9)(l.im),h=(0,a.useCallback)((function(){t((0,u.mr)({isOpen:!1})),t((0,d.F5)(""))}),[t,u.mr]),v=(0,a.useCallback)((function(e){return t((0,u.mr)({isOpen:i,tab:e}))}),[t,u.mr,i]);(0,a.useEffect)((function(){r||o===ei.z.GIT_CONNECTION||v(ei.z.DEPLOY)}),[o]),(0,a.useEffect)((function(){r&&o===ei.z.GIT_CONNECTION&&v(ei.z.DEPLOY)}),[r]);var x=ai;x=e.isImport?[{key:f.UR.GIT_CONNECTION,title:(0,g.tnH)(g.t82)}]:r?ai:[f.AF.GIT_CONNECTION],(0,a.useEffect)((function(){o!==ei.z.GIT_CONNECTION&&x.length-1<o&&v(ei.z.GIT_CONNECTION)}),[o]);var C=x[o]?x[o].key:f.AF.GIT_CONNECTION.key,A=oi[C];return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(s.Z,{canEscapeKeyClose:!0,canOutsideClickClose:!0,className:f.PZ.GIT_SYNC_MODAL,isOpen:i,maxWidth:"900px",noModalBodyMarginTop:!0,onClose:h,width:"535px",children:(0,Y.jsxs)(ni,{children:[(0,Y.jsx)(ii,{children:(0,Y.jsx)(p.Z,{activeTabIndex:o,onSelect:function(e){e===ei.z.DEPLOY?B.Z.logEvent("GS_DEPLOY_GIT_MODAL_TRIGGERED",{source:"".concat(si[o],"_TAB")}):e===ei.z.MERGE&&B.Z.logEvent("GS_MERGE_GIT_MODAL_TRIGGERED",{source:"".concat(si[o],"_TAB")}),v(e)},options:x})}),(0,Y.jsxs)(ti,{children:[o===ei.z.GIT_CONNECTION&&(0,Y.jsx)(A,{isImport:e.isImport}),o!==ei.z.GIT_CONNECTION&&(0,Y.jsx)(A,{})]}),(0,Y.jsx)(ri,{className:"t--close-git-sync-modal",onClick:h,children:(0,Y.jsx)(de.ZP,{fillColor:(0,rt.get)(n,"colors.gitSyncModal.closeIcon"),name:"close-modal",size:de.Jh.XXXXL})})]})}),(0,Y.jsx)($t.Z,{})]})}},51165:function(e,n,t){t.d(n,{Z:function(){return h}});var i,r,o=t(17186),a=(t(72791),t(59386)),s=t(86538),l=t(60309),c=t(13581),u=t(80184),d=s.ZP.div(i||(i=(0,o.Z)(["\n  display: flex;\n  ",";\n  ",";\n\n  &:hover,\n  &:focus {\n    color: ",";\n  }\n\n  padding: ",";\n\n  width: 100%;\n\n  align-items: center;\n"])),(function(e){return(0,c.z8)(e,"p0")}),(function(e){return function(e){return e.selected?"color: ".concat(e.theme.colors.tabItemBackgroundFill.highlightTextColor,";\n      font-weight: 500;\n      border-bottom: 2px solid ").concat(e.theme.colors.info.light,";\n\n     "):"color: ".concat(l.w.GREY_7,"\n      ")}(e)}),(function(e){return e.theme.colors.tabItemBackgroundFill.highlightTextColor}),(function(e){return"".concat(e.theme.spaces[5],"px 0px")}));function p(e){var n=e.selected,t=e.tab,i=e.vertical;return(0,u.jsx)(d,{selected:n,vertical:i,children:t.title},t.title)}var f=s.ZP.div(r||(r=(0,o.Z)(["\n  .react-tabs {\n    border-bottom: 1px solid ",";\n  }\n  .react-tabs__tab {\n    margin-right: 0px;\n    padding-right: ","px;\n  }\n"])),l.w.ALTO2,(function(e){return e.theme.spaces[8]}));function h(e){return(0,u.jsx)(f,{children:(0,u.jsx)(a.id,{onSelect:e.onSelect,selectedIndex:e.activeTabIndex||0,tabItemComponent:p,tabs:e.options})})}},40755:function(e,n,t){var i,r,o,a,s,l,c,u=t(50678),d=t(17186),p=t(72791),f=t(52628),h=t(7981),g=t(58286),m=t(93856),v=t(41732),x=t(86538),C=t(47446),A=t(60309),y=t(46898),Z=t(92145),b=t(53325),j=t(763),T=t(18879),E=t(68219),w=t(40641),P=t(93057),I=t(80184),S=x.ZP.div(i||(i=(0,d.Z)(["\n  height: 600px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow-y: hidden;\n"]))),O=x.ZP.div(r||(r=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]))),k=x.ZP.div(o||(o=(0,d.Z)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n"]))),N=x.ZP.div(a||(a=(0,d.Z)(["\n  margin-top: 0;\n"]))),D=x.ZP.div(s||(s=(0,d.Z)(["\n  margin-bottom: ","px;\n  display: flex;\n  justify-content: space-between;\n"])),(function(e){return e.theme.spaces[7]})),R=x.ZP.div(l||(l=(0,d.Z)(["\n  display: block;\n"]))),_=x.ZP.div(c||(c=(0,d.Z)(["\n  height: calc(100% - 40px);\n  margin-top: 16px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  scrollbar-width: none;\n  padding-right: 5px;\n\n  &::-webkit-scrollbar-thumb {\n    background-color: rgba(75, 72, 72, 0.5);\n    width: 4px;\n    border-radius: ","px;\n  }\n\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  position: relative;\n"])),(function(e){return e.theme.radii[3]}));n.Z=function(){var e=(0,f.v9)(g.GZ),n=(0,f.I0)(),t=(0,f.v9)(T.kc),i=(0,f.v9)(T.oN),r=(0,f.v9)(g.lU),o=(0,p.useState)(""),a=(0,u.Z)(o,2),s=a[0],l=a[1],c=(0,p.useMemo)((function(){if(i){var e=i.find((function(e){return e.workspace.id===(null===t||void 0===t?void 0:t.workspaceId)}));return l((null===e||void 0===e?void 0:e.workspace.name)||""),(null===e||void 0===e?void 0:e.applications.filter((function(e){var n=e.gitApplicationMetadata;return n&&n.remoteUrl&&n.branchName&&n.repoName&&n.isRepoPrivate})))||[]}return[]}),[i]),d=function(){return n((0,m.eb)(!1))},G=(0,p.useCallback)((function(e,t){w.Z.logEvent("GS_DISCONNECT_GIT_CLICK",{source:"REPO_LIMIT_EXCEEDED_ERROR_MODAL"}),n((0,m.eb)(!1)),n((0,m.Nl)({id:e,name:t})),n((0,m.HZ)(!0))}),[]),L=(0,x.Fg)();return(0,p.useEffect)((function(){n({type:E.Ep.GET_ALL_APPLICATION_INIT})}),[]),(0,I.jsx)(h.Z,{canEscapeKeyClose:!0,canOutsideClickClose:!0,className:"t--git-repo-limited-modal",isOpen:e,maxWidth:"900px",noModalBodyMarginTop:!0,onClose:d,width:"550px",children:(0,I.jsxs)(S,{children:[(0,I.jsxs)(O,{children:[(0,I.jsx)(C.ZP,{color:A.w.BLACK,type:C.yG.H1,weight:"bold",children:(0,y.tnH)(y.z8g)}),(0,I.jsx)(C.ZP,{color:A.w.BLACK,style:{marginTop:L.spaces[3],width:"410px"},type:C.yG.P1,children:(0,y.tnH)(y.YlT)}),(0,I.jsxs)(P.Z,{style:{margin:"".concat(L.spaces[7],"px 0px"),paddingTop:L.spaces[6],paddingBottom:L.spaces[6]},children:[(0,I.jsx)(Z.ZP,{fillColor:A.w.YELLOW_LIGHT,name:"warning-line",size:Z.Jh.XXXL}),(0,I.jsx)("div",{style:{display:"block"},children:(0,I.jsx)(C.ZP,{color:A.w.BROWN,style:{marginRight:L.spaces[2]},type:C.yG.P3,children:(0,y.tnH)(y.mr)})})]}),(0,I.jsx)(N,{children:(0,I.jsx)(v.ZP,{category:v.WD.tertiary,className:"t--contact-sales-button",onClick:function(){w.Z.logEvent("GS_CONTACT_SALES_CLICK",{source:"REPO_LIMIT_EXCEEDED_ERROR_MODAL"}),window.Intercom&&window.Intercom("showNewMessage",(0,y.tnH)(y.jgk,s))},size:v.$u.large,tag:"button",text:(0,y.tnH)(y.h0D)})}),(0,I.jsx)("div",{style:{marginTop:L.spaces[15]},children:(0,I.jsx)(C.ZP,{color:A.w.BLACK,type:C.yG.H1,children:(0,y.tnH)(y.V5c)})}),(0,I.jsx)("div",{style:{marginTop:L.spaces[3],width:410},children:(0,I.jsx)(C.ZP,{color:A.w.BLACK,type:C.yG.P1,children:(0,y.tnH)(y.PGE)})}),(0,I.jsxs)(P.Z,{isError:!0,style:{margin:"".concat(L.spaces[7],"px 0px 0")},children:[(0,I.jsx)(Z.ZP,{fillColor:A.w.CRIMSON,name:"warning-line",size:Z.Jh.XXXL}),(0,I.jsxs)("div",{style:{display:"block"},children:[(0,I.jsx)(C.ZP,{color:A.w.CRIMSON,style:{marginRight:L.spaces[2]},type:C.yG.P3,children:(0,y.tnH)(y.XCd)}),(0,I.jsx)(b.Z,{className:"t--learn-more-repo-limit-modal",color:A.w.CRIMSON,link:r,text:(0,y.tnH)(y.gPB)})]})]}),(0,I.jsx)(_,{children:c.map((function(e){var n=e.gitApplicationMetadata;return(0,I.jsxs)(D,{className:"t--connected-app-wrapper",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)(R,{children:(0,I.jsx)(C.ZP,{color:A.w.OXFORD_BLUE,type:C.yG.H4,children:e.name})}),(0,I.jsx)(R,{children:(0,I.jsx)(C.ZP,{color:A.w.OXFORD_BLUE,type:C.yG.P3,children:null===n||void 0===n?void 0:n.remoteUrl})})]}),(0,I.jsx)(b.Z,{className:"t--disconnect-link",color:A.w.CRIMSON,hasIcon:!0,link:"",onClick:function(){return G(e.id,e.name)},text:(0,y.tnH)(y.Xs4)})]},e.id)}))})]}),(0,I.jsx)(k,{onClick:d,children:(0,I.jsx)(Z.ZP,{fillColor:(0,j.get)(L,"colors.gitSyncModal.closeIcon"),name:"close-modal",size:Z.Jh.XXXXL})})]})})}},64033:function(e,n,t){t.d(n,{Z:function(){return v}});var i,r,o=t(17186),a=(t(72791),t(86538)),s=t(47446),l=t(93057),c=t(53325),u=t(46898),d=t(41732),p=t(92145),f=t(60309),h=t(80184),g=a.ZP.div(i||(i=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n"]))),m=(0,a.ZP)(d.ZP)(r||(r=(0,o.Z)(["\n  margin-right: ","px;\n"])),(function(e){return e.theme.spaces[3]}));function v(e){var n=e.browserSupportedRemoteUrl,t=e.learnMoreLink;return(0,h.jsxs)("div",{"data-testid":"t--conflict-info-container",children:[(0,h.jsxs)(l.Z,{"data-testid":"t--conflict-info-error-warning",isError:!0,children:[(0,h.jsx)(p.ZP,{fillColor:f.w.CRIMSON,name:"info",size:p.Jh.XXXL}),(0,h.jsxs)("div",{style:{display:"block"},children:[(0,h.jsx)(s.ZP,{color:f.w.CRIMSON,type:s.yG.P3,children:(0,u.tnH)(u.Yi0)}),(0,h.jsx)(c.Z,{color:f.w.CRIMSON,link:t,text:(0,u.tnH)(u.gPB)})]})]}),(0,h.jsx)(g,{children:(0,h.jsx)(m,{category:d.WD.tertiary,className:"t--commit-button",href:n,size:d.$u.large,tag:"a",target:"_blank",text:(0,u.tnH)(u.xwv),width:"max-content"})})]})}},54347:function(e,n,t){var i,r=t(17186),o=(t(72791),t(86538)),a=t(37305),s=t(72310),l=t(52628),c=t(93856),u=t(58286),d=t(92145),p=t(46898),f=t(42750),h=t(60309),g=t(763),m=t(64033),v=t(18879),x=t(80184),C=o.ZP.div(i||(i=(0,r.Z)(["\n  & {\n    ."," {\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      display: flex;\n      justify-content: center;\n\n      ."," {\n        overflow: hidden;\n        bottom: ",";\n        left: ","px;\n        background-color: ",";\n      }\n    }\n\n    .git-error-popup {\n      width: 364px;\n      padding: ","px;\n\n      display: flex;\n      flex-direction: column;\n    }\n  }\n"])),a.v8x,a.G07,(function(e){return"calc(".concat(e.theme.bottomBarHeight," + ").concat(e.theme.spaces[3],"px)")}),(function(e){return e.theme.spaces[3]}),h.w.WHITE,(function(e){return e.theme.spaces[7]}));function A(e){var n=e.closePopup,t=(0,p.tnH)(p.pk6),i=(0,o.Fg)();return(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,x.jsx)("span",{className:"title",children:t})}),(0,x.jsx)(d.ZP,{fillColor:(0,g.get)(i,"colors.gitSyncModal.closeIcon"),hoverFillColor:h.w.BLACK,name:"close-modal",onClick:n,size:d.Jh.XXXXL})]})}n.Z=function(){var e=(0,l.I0)(),n=(0,l.v9)(u.Zm),t=function(){e((0,c.SM)({isVisible:!1}))},i=(0,l.v9)(u.qz),r=(0,l.v9)(v.N1),o=(null===r||void 0===r?void 0:r.browserSupportedRemoteUrl)||"";return(0,x.jsx)(C,{children:(0,x.jsx)(s.aV,{hasBackdrop:!0,isOpen:n,onClose:t,transitionDuration:25,usePortal:!1,children:(0,x.jsx)("div",{className:a.G07,children:(0,x.jsxs)("div",{className:"git-error-popup",children:[(0,x.jsx)(A,{closePopup:t}),(0,x.jsx)(f.T,{size:2}),(0,x.jsx)(m.Z,{browserSupportedRemoteUrl:o,learnMoreLink:i})]})})})})}},93057:function(e,n,t){var i,r=t(17186),o=t(86538),a=t(60309),s=t(81209),l=o.ZP.div(i||(i=(0,r.Z)(["\n  width: 100%;\n  padding: ","px;\n  background: ",";\n  margin-bottom: ","px;\n  display: inline-flex;\n  ."," {\n    display: block;\n  }\n  ."," {\n    margin-right: ","px;\n    margin-left: ","px;\n  }\n"])),(function(e){return e.theme.spaces[3]}),(function(e){return e.isError?a.w.FAIR_PINK:a.w.WARNING_OUTLINE_HOVER}),(function(e){return e.theme.spaces[4]}),s.PZ.TEXT,s.PZ.ICON,(function(e){return e.theme.spaces[8]}),(function(e){return e.theme.spaces[4]}));n.Z=l},53325:function(e,n,t){t.d(n,{Z:function(){return p}});var i,r=t(17186),o=(t(72791),t(60309)),a=t(86538),s=t(47446),l=t(92145),c=t(81209),u=t(80184),d=a.ZP.div(i||(i=(0,r.Z)(["\n  cursor: pointer;\n  ."," {\n    margin-left: ","px;\n    display: inline-flex;\n  }\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  &:hover {\n    text-decoration: underline;\n    text-decoration-color: ",";\n  }\n"])),c.PZ.ICON,(function(e){return e.theme.spaces[3]}),(function(e){return e.color}));function p(e){var n=e.className,t=void 0===n?"":n,i=e.color,r=e.hasIcon,a=void 0===r||r,c=e.link,p=e.onClick,f=e.text;return(0,u.jsxs)(d,{className:t,color:i||o.w.CHARCOAL,onClick:function(){p?p():window.open(c,"_blank")},children:[(0,u.jsx)(s.ZP,{case:s.JZ.UPPERCASE,color:i||o.w.CHARCOAL,type:s.yG.P3,weight:s.U9.BOLD,children:f}),a&&(0,u.jsx)(l.ZP,{fillColor:i||o.w.CHARCOAL,hoverFillColor:i||o.w.CHARCOAL,name:"right-arrow",size:l.Jh.SMALL})]})}},21914:function(e,n,t){t.d(n,{W:function(){return u},Z:function(){return d}});var i,r=t(50678),o=t(17186),a=t(72791),s=t(14364),l=t(86538),c=t(80184),u=l.ZP.div(i||(i=(0,o.Z)(["\n  width: 252px;\n  height: 38px;\n"])));function d(e){var n=e.completed,t=e.message,i=e.period,o=(0,a.useState)(0),l=(0,r.Z)(o,2),u=l[0],d=l[1];return(0,a.useEffect)((function(){if(n)d(100),e.onHide&&setTimeout((function(){e.onHide&&e.onHide()}),1e3);else if(u<90){var t=setInterval((function(){d((function(e){return e+10}))}),1e3*i/9);return function(){return clearInterval(t)}}})),(0,c.jsx)(s.Z,{active:!1,message:t,percentage:u,showOnlyMessage:!0})}},42750:function(e,n,t){t.d(n,{Dx:function(){return d},QE:function(){return p},T:function(){return h},YS:function(){return f}});var i,r,o,a,s=t(17186),l=t(86538),c=t(13581),u=t(60309),d=l.ZP.p(i||(i=(0,s.Z)(["\n  ",";\n  margin: ",";\n  color: ",";\n"])),(function(e){return(0,c.z8)(e,"h1")}),(function(e){return"".concat(e.theme.spaces[7],"px 0px ").concat(e.theme.spaces[3],"px 0px")}),u.w.GREY_900),p=l.ZP.div(r||(r=(0,s.Z)(["\n  margin-top: 8px;\n  ",";\n  color: ",";\n"])),(function(e){return(0,c.z8)(e,"p1")}),u.w.GREY_900),f=l.ZP.span(o||(o=(0,s.Z)(["\n  ",";\n"])),(function(e){return(0,c.z8)(e,"p1")})),h=l.ZP.div(a||(a=(0,s.Z)(["\n  margin: ",";\n"])),(function(e){return e.horizontal?"0px ".concat(e.theme.spaces[e.size],"px "):"".concat(e.theme.spaces[e.size],"px 0px")}))},10689:function(e,n,t){t.d(n,{Cd:function(){return a},bO:function(){return l},QO:function(){return p},XI:function(){return o},Yx:function(){return c.Y}});var i=t(50678),r=t(72791);function o(e){var n=(0,r.useState)(!1),t=(0,i.Z)(n,2),o=t[0],a=t[1],s=function(){return a(!0)},l=function(){return a(!1)};return(0,r.useEffect)((function(){var n=e.current;if(n)return n.addEventListener("mouseenter",s),n.addEventListener("mouseleave",l),function(){n.removeEventListener("mouseenter",s),n.removeEventListener("mouseleave",l)}})),[o]}var a=function(e,n,t){var o=t?n.length:n.length-1,a=(0,r.useState)(0),s=(0,i.Z)(a,2),l=s[0],c=s[1],u=function(e){c(e<0?o:e>o?0:e)};return(0,r.useEffect)((function(){var i=n.indexOf(e||"");u(-1!==i?t?i+1:i:0)}),[e,n,t]),{activeHoverIndex:l,setActiveHoverIndex:u}},s=t(31303),l=function(e,n){n=n.toLowerCase();var t=(0,r.useState)([]),o=(0,i.Z)(t,2),a=o[0],l=o[1];return(0,r.useEffect)((function(){var t=e.filter((function(e){return!n||e.branchName.toLowerCase().includes(n)})),i=[].concat((0,s.Z)(t.filter((function(e){return e.default}))),(0,s.Z)(t.filter((function(e){return!e.default})))).map((function(e){return e.branchName}));l(i)}),[e,n]),a},c=t(80305),u=t(52628),d=t(93856),p=function(){var e=(0,u.I0)(),n=(0,r.useState)(!1),t=(0,i.Z)(n,2),o=t[0],a=t[1],s=(0,r.useCallback)((function(){a(!1)}),[a]),l=(0,r.useCallback)((function(){a(!1)}),[a]);return{isConnectingToGit:o,connectToGit:(0,r.useCallback)((function(n){a(!0),e((0,d.tm)({payload:n,onSuccessCallback:s,onErrorCallback:l}))}),[s,l,a])}}},80305:function(e,n,t){t.d(n,{Y:function(){return l}});var i=t(50678),r=t(52628),o=t(58286),a=t(72791),s=t(93856),l=function(){var e=(0,r.I0)(),n=(0,r.v9)(o.RV),t=(0,r.v9)(o.tl),l=(0,a.useState)(!1),c=(0,i.Z)(l,2),u=c[0],d=c[1],p=(0,a.useState)(!1),f=(0,i.Z)(p,2),h=f[0],g=f[1],m=(0,a.useState)(!1),v=(0,i.Z)(m,2),x=v[0],C=v[1];(0,a.useEffect)((function(){n&&(u&&d(!1),h&&g(!1))}),[n]);var A=(0,a.useCallback)((function(){g(!0),e((0,s.kW)({onErrorCallback:function(){g(!1)}}))}),[g]),y=(0,a.useCallback)((function(){d(!1),C(!0)}),[d]),Z=(0,a.useCallback)((function(){d(!0),C(!1),e((0,s.Hr)({onErrorCallback:y}))}),[y,d]);return{generatingSSHKey:u,failedGeneratingSSHKey:x,generateSSHKey:Z,SSHKeyPair:n,deployKeyDocUrl:t,fetchSSHKeyPair:A,fetchingSSHKeyPair:h}}},37067:function(e,n,t){t.d(n,{Oq:function(){return l},jT:function(){return s},pj:function(){return r},rf:function(){return u},xu:function(){return c},zL:function(){return d},zT:function(){return a}});var i=t(46898),r=function(e,n){var t="origin/";return e&&!e.startsWith(t)&&n&&n.startsWith(t)},o=new RegExp(/^((git|ssh)|(git@[\w\.]+))(:(\/\/)?)([\w\.@\:\/\-~]+)[^\/]$/im),a=function(e){return o.test(e)},s=function(e){return e.startsWith("origin/")},l=function(e){return!s(e)},c=function(e,n,t){return(e?n-1:n)===t},u=function(e){return e.split(/(?![/-])\W+/).join("_")};function d(e){var n=!(null===e||void 0===e||!e.isAutoUpdate),t=!(null===e||void 0===e||!e.isManualUpdate),r=n?t?i.Ey0:i.oX9:i.wPi;return{isAutoUpdate:n,isManualUpdate:t,changeReasonText:(0,i.tnH)(r)}}},33629:function(e,n,t){t.d(n,{Z:function(){return g}});var i,r=t(17186),o=t(72791),a=["title","titleId"];function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s.apply(this,arguments)}function l(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function c(e,n){var t=e.title,r=e.titleId,c=l(e,a);return o.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:n,"aria-labelledby":r},c),t?o.createElement("title",{id:r},t):null,i||(i=o.createElement("path",{fill:"#716E6E",d:"M7.99967 1.33301C8.17649 1.33301 8.34606 1.40325 8.47108 1.52827C8.5961 1.65329 8.66634 1.82286 8.66634 1.99967V3.99967C8.66634 4.17649 8.5961 4.34605 8.47108 4.47108C8.34606 4.5961 8.17649 4.66634 7.99967 4.66634C7.82286 4.66634 7.65329 4.5961 7.52827 4.47108C7.40325 4.34605 7.33301 4.17649 7.33301 3.99967V1.99967C7.33301 1.82286 7.40325 1.65329 7.52827 1.52827C7.65329 1.40325 7.82286 1.33301 7.99967 1.33301ZM7.99967 11.333C8.17649 11.333 8.34606 11.4032 8.47108 11.5283C8.5961 11.6533 8.66634 11.8229 8.66634 11.9997V13.9997C8.66634 14.1765 8.5961 14.3461 8.47108 14.4711C8.34606 14.5961 8.17649 14.6663 7.99967 14.6663C7.82286 14.6663 7.65329 14.5961 7.52827 14.4711C7.40325 14.3461 7.33301 14.1765 7.33301 13.9997V11.9997C7.33301 11.8229 7.40325 11.6533 7.52827 11.5283C7.65329 11.4032 7.82286 11.333 7.99967 11.333ZM14.6663 7.99967C14.6663 8.17649 14.5961 8.34606 14.4711 8.47108C14.3461 8.5961 14.1765 8.66634 13.9997 8.66634H11.9997C11.8229 8.66634 11.6533 8.5961 11.5283 8.47108C11.4032 8.34606 11.333 8.17649 11.333 7.99967C11.333 7.82286 11.4032 7.65329 11.5283 7.52827C11.6533 7.40325 11.8229 7.33301 11.9997 7.33301H13.9997C14.1765 7.33301 14.3461 7.40325 14.4711 7.52827C14.5961 7.65329 14.6663 7.82286 14.6663 7.99967ZM4.66634 7.99967C4.66634 8.17649 4.5961 8.34606 4.47108 8.47108C4.34605 8.5961 4.17649 8.66634 3.99967 8.66634H1.99967C1.82286 8.66634 1.65329 8.5961 1.52827 8.47108C1.40325 8.34606 1.33301 8.17649 1.33301 7.99967C1.33301 7.82286 1.40325 7.65329 1.52827 7.52827C1.65329 7.40325 1.82286 7.33301 1.99967 7.33301H3.99967C4.17649 7.33301 4.34605 7.40325 4.47108 7.52827C4.5961 7.65329 4.66634 7.82286 4.66634 7.99967ZM12.7137 12.7137C12.5887 12.8387 12.4191 12.9089 12.2423 12.9089C12.0656 12.9089 11.896 12.8387 11.771 12.7137L10.357 11.2997C10.2356 11.1739 10.1684 11.0055 10.1699 10.8307C10.1714 10.6559 10.2415 10.4887 10.3651 10.3651C10.4887 10.2415 10.6559 10.1714 10.8307 10.1699C11.0055 10.1684 11.1739 10.2356 11.2997 10.357L12.7137 11.7703C12.7757 11.8323 12.8248 11.9058 12.8584 11.9867C12.8919 12.0676 12.9092 12.1544 12.9092 12.242C12.9092 12.3296 12.8919 12.4164 12.8584 12.4973C12.8248 12.5782 12.7757 12.6518 12.7137 12.7137ZM5.64234 5.64234C5.51732 5.76732 5.34778 5.83753 5.17101 5.83753C4.99423 5.83753 4.82469 5.76732 4.69967 5.64234L3.28634 4.22901C3.16125 4.104 3.09094 3.93442 3.09087 3.75758C3.09081 3.58073 3.161 3.4111 3.28601 3.28601C3.41101 3.16091 3.58059 3.0906 3.75744 3.09054C3.93429 3.09048 4.10391 3.16067 4.22901 3.28567L5.64234 4.69967C5.76732 4.82469 5.83753 4.99423 5.83753 5.17101C5.83753 5.34778 5.76732 5.51732 5.64234 5.64234ZM3.28634 12.7137C3.16136 12.5887 3.09115 12.4191 3.09115 12.2423C3.09115 12.0656 3.16136 11.896 3.28634 11.771L4.70034 10.357C4.76184 10.2933 4.8354 10.2425 4.91674 10.2076C4.99807 10.1727 5.08555 10.1543 5.17407 10.1535C5.26259 10.1527 5.35038 10.1696 5.43231 10.2031C5.51424 10.2366 5.58868 10.2861 5.65127 10.3487C5.71387 10.4113 5.76337 10.4858 5.79689 10.5677C5.83041 10.6496 5.84728 10.7374 5.84651 10.8259C5.84574 10.9145 5.82735 11.0019 5.79241 11.0833C5.75747 11.1646 5.70668 11.2382 5.64301 11.2997L4.22967 12.7137C4.16776 12.7757 4.09423 12.8248 4.0133 12.8584C3.93237 12.8919 3.84562 12.9092 3.75801 12.9092C3.6704 12.9092 3.58365 12.8919 3.50271 12.8584C3.42178 12.8248 3.34826 12.7757 3.28634 12.7137ZM10.357 5.64234C10.232 5.51732 10.1618 5.34778 10.1618 5.17101C10.1618 4.99423 10.232 4.82469 10.357 4.69967L11.7703 3.28567C11.8953 3.16058 12.0649 3.09027 12.2418 3.09021C12.4186 3.09014 12.5882 3.16034 12.7133 3.28534C12.8384 3.41035 12.9087 3.57993 12.9088 3.75677C12.9089 3.93362 12.8387 4.10325 12.7137 4.22834L11.2997 5.64234C11.1747 5.76732 11.0051 5.83753 10.8283 5.83753C10.6516 5.83753 10.482 5.76732 10.357 5.64234Z"})))}var u,d=o.forwardRef(c),p=(t.p,t(86538)),f=t(80184),h=p.ZP.div(u||(u=(0,r.Z)(["\n  #loading-spinner {\n    animation: loading-spinner 2s linear infinite;\n  }\n\n  @keyframes loading-spinner {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"])));var g=function(e){return(0,f.jsx)(h,{$height:e.height,$width:e.width,children:(0,f.jsx)(d,{id:"loading-spinner"})})}},96387:function(e,n,t){t.d(n,{Z:function(){return m}});var i,r,o=t(17186),a=t(72791),s=["title","titleId"];function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l.apply(this,arguments)}function c(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function u(e,n){var t=e.title,o=e.titleId,u=c(e,s);return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",className:"checkmark",viewBox:"0 0 52 52",ref:n,"aria-labelledby":o},u),t?a.createElement("title",{id:o},t):null,i||(i=a.createElement("circle",{cx:26,cy:26,r:25,fill:"none",className:"checkmark__circle"})),r||(r=a.createElement("path",{fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8",className:"checkmark__check"})))}var d,p=a.forwardRef(u),f=(t.p,t(86538)),h=t(80184),g=f.ZP.div(d||(d=(0,o.Z)(["\n  height: ",";\n  width: ",";\n  margin-bottom: ","px;\n  .checkmark .checkmark__circle .checkmark__check {\n    animation-delay: 2s;\n  }\n\n  .checkmark .checkmark__circle {\n    stroke-dasharray: 166;\n    stroke-dashoffset: 166;\n    stroke-width: 2;\n    stroke-miterlimit: 10;\n    stroke: green;\n    fill: none;\n    animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;\n  }\n\n  .checkmark {\n    width: ",";\n    height: ",";\n    border-radius: 50%;\n    display: block;\n    stroke-width: 2;\n    stroke: green;\n    stroke-miterlimit: 10;\n    margin: 10% auto;\n    box-shadow: inset 0px 0px 0px #7ac142;\n    animation: fill 0.4s ease-in-out 0.4s forwards,\n      scale 0.3s ease-in-out 0.9s both;\n  }\n\n  .checkmark__check {\n    transform-origin: 50% 50%;\n    stroke-dasharray: 48;\n    stroke-dashoffset: 48;\n    animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;\n  }\n\n  @keyframes stroke {\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes scale {\n    0%,\n    100% {\n      transform: none;\n    }\n    50% {\n      transform: scale3d(1.2, 1.2, 1);\n    }\n  }\n  @keyframes fill {\n    100% {\n      box-shadow: inset 0px 0px 0px 30px #fff;\n    }\n  }\n"])),(function(e){return e.$height}),(function(e){return e.$width}),(function(e){return e.theme.spaces[15]}),(function(e){return e.$height}),(function(e){return e.$width}));var m=function(e){return(0,h.jsx)(g,{$height:e.height,$width:e.width,style:e.style,children:(0,h.jsx)(p,{})})}},77239:function(e,n,t){var i,r,o,a,s=t(36222),l=t(50678),c=t(17186),u=t(72791),d=t(86538),p=t(93512),f=t(8236),h=t(52628),g=t(23861),m=t(40200),v=t(40641),x=t(9958),C=t(38545),A=t(35581),y=t(79271),Z=t(86957),b=t(17909),j=t(68855),T=t(46898),E=t(68324),w=t(81209),P=t(763),I=t(80184);!function(e){e.SUCCESS="success",e.APPSMITH_ERROR="appsmith_error"}(o||(o={})),function(e){e.DELETE="DELETE",e.SAVE="SAVE",e.TEST="TEST",e.SAVE_AND_AUTHORIZE="SAVE_AND_AUTHORIZE"}(a||(a={}));var S="DELETE",O="SAVE",k="TEST",N="SAVE_AND_AUTHORIZE",D=(0,d.ZP)(f.Z)(i||(i=(0,c.Z)(["\n  &&&& {\n    height: 32px;\n    width: ",";\n  }\n"])),(function(e){return e.fluidWidth?"":"87px"})),R=d.ZP.div(r||(r=(0,c.Z)(["\n  color: ",';\n  margin-top: 15px;\n  &:after {\n    content: " *";\n    color: inherit;\n  }\n'])),(function(e){return e.theme.colors.error}));n.ZP=function(e){var n,t,i,r,a=e.datasource,c=e.datasourceButtonConfiguration,d=void 0===c?["DELETE","SAVE"]:c,f=e.formData,_=e.getSanitizedFormData,G=e.isInvalid,L=e.pageId,H=e.shouldRender,M=f&&(null===f||void 0===f||null===(n=f.datasourceConfiguration)||void 0===n||null===(t=n.authentication)||void 0===t?void 0:t.authenticationType),U=a.id,z=(0,h.v9)(A.aS),V=(0,h.I0)(),B=(0,y.TH)(),F=(0,y.UO)().pageId||L,Y=(0,u.useState)(!1),K=(0,l.Z)(Y,2),X=K[0],J=K[1];(0,u.useEffect)((function(){X&&q()}),[X]);var q=(0,P.debounce)((function(){return J(!1)}),2200);(0,u.useEffect)((function(){if(M===j.Gr.OAUTH2){var e=new URLSearchParams(B.search),n=e.get("response_status"),t=e.get("importForGit"),i=e.get("datasourceId");if(n&&(!t||t&&i===U)){var r=e.get("display_message"),a=w.$e.danger;if(n!==o.SUCCESS){var s=n===o.APPSMITH_ERROR?T.sSc:T.rqT;E.x7.show({text:r||s,variant:a})}else V((0,m.$z)(U));v.Z.logEvent("DATASOURCE_AUTH_COMPLETE",{applicationId:z,datasourceId:U,pageId:F})}}}),[M]);var W=(0,h.v9)(g.uc).datasources,Q=W.isDeleting,$=W.isTesting,ee=W.loading,ne=(0,h.v9)((function(e){return(0,g.gn)(e,U)})),te=(0,h.v9)(g.YZ),ie=(null===a||void 0===a||null===(i=a.datasourceConfiguration)||void 0===i||null===(r=i.authentication)||void 0===r?void 0:r.authenticationStatus)===j.y_.SUCCESS,re=function(){v.Z.logEvent("TEST_DATA_SOURCE_CLICK",{pageId:F,appId:z}),V((0,m.YB)(_()))},oe=function(){var e=(0,Z.c)();v.Z.logEvent("SAVE_DATA_SOURCE_CLICK",{pageId:F,appId:z}),V((0,m.Y_)(_(),e||te?void 0:V((0,x.HZ)(F,(0,C.vl)()))))},ae=function(){V((0,m.Y_)(_(),ne?(0,m.l8)(F,U,ne):void 0))},se=function(e){var n;return(n={},(0,s.Z)(n,S,(0,I.jsx)(p.Kk,{buttonStyle:"DANGER",buttonVariant:b.lm.PRIMARY,className:"t--delete-datasource",loading:Q,onClick:function(){X?V((0,m.Vl)({id:U})):J(!0)},text:X?(0,T.tnH)(T.fUd):(0,T.tnH)(T.mcU)})),(0,s.Z)(n,k,(0,I.jsx)(p.Kk,{buttonStyle:"PRIMARY",buttonVariant:b.lm.SECONDARY,className:"t--test-datasource",loading:$,onClick:re,text:"Test"})),(0,s.Z)(n,O,(0,I.jsx)(D,{className:"t--save-datasource",disabled:G,filled:!0,intent:"primary",loading:ee,onClick:oe,size:"small",text:"Save"})),(0,s.Z)(n,N,(0,I.jsx)(D,{className:"t--save-datasource",disabled:G,filled:!0,fluidWidth:!0,intent:"primary",loading:ee,onClick:ae,size:"small",text:ie?"Save and Re-authorize":"Save and Authorize"})),n)[e]};return(0,I.jsxs)(I.Fragment,{children:[M===j.Gr.OAUTH2&&!ie&&(0,I.jsx)(R,{children:"Datasource not authorized"}),H&&(0,I.jsx)(p.ZM,{children:null===d||void 0===d?void 0:d.map((function(e){return se(e)}))}),""]})}}}]);
//# sourceMappingURL=376.ef38e39c.chunk.js.map